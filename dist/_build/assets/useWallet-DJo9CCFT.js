import{b as j,p as Gn,u as ve,K as G,c as T,j as m,t as R,S as X,B as P,m as U,P as Vn,L as Ce,f as _e,I as It,M as B,w as N,d as de,J as ue,D as zt,G as Pe,l as Zn,x as D,a as Ie,N as Tt,o as Re,e as st,F as Rt,H as Lt,q as Te,$ as pe,O as kt,Q as Mt}from"./web-BU40c6be.js";import{S as Jn,o as Xn,p as Ot,q as xe,r as Ut,t as qn,V as er,n as tr,u as nr,v as rr,w as or,W as Q,e as ir,g as sr,P as ar,b as lt,c as Be,a as lr,k as cr,j as ur,l as dr}from"./hardware-wallet-CKW_vMnK.js";var fr=D('<svg viewBox="0 0 20 21"fill=none xmlns=http://www.w3.org/2000/svg><path d="M2.0336 16.2126L8.2336 10.0126L2.0336 3.81263C1.7961 3.57903 1.66172 3.25951 1.66016 2.92669C1.65938 2.59309 1.79141 2.27357 2.02734 2.03763C2.26328 1.80247 2.5828 1.67045 2.9164 1.67201C3.25 1.67357 3.56874 1.80795 3.80234 2.04623L9.99994 8.24623L16.1999 2.04623C16.4335 1.80795 16.7523 1.67357 17.0859 1.67201C17.4187 1.67045 17.739 1.80248 17.9749 2.03763C18.2109 2.27357 18.3429 2.59309 18.3413 2.92669C18.3406 3.25951 18.2062 3.57903 17.9687 3.81263L11.7663 10.0126L17.9663 16.2126C18.2038 16.4462 18.3382 16.7658 18.3397 17.0986C18.3405 17.4322 18.2085 17.7517 17.9725 17.9876C17.7366 18.2228 17.4171 18.3548 17.0835 18.3533C16.7499 18.3517 16.4311 18.2173 16.1975 17.979L9.99994 11.779L3.79994 17.979C3.31088 18.4611 2.52494 18.4579 2.039 17.9736C1.55384 17.4884 1.54994 16.7025 2.03119 16.2126L2.0336 16.2126Z"fill=currentColor>'),hr=D('<svg viewBox="0 0 10 10"fill=none xmlns=http://www.w3.org/2000/svg><path d="M4 2V3H1.5V8.5H7V6H8V9C8 9.13261 7.94732 9.25979 7.85355 9.35355C7.75979 9.44732 7.63261 9.5 7.5 9.5H1C0.867392 9.5 0.740215 9.44732 0.646447 9.35355C0.552678 9.25979 0.5 9.13261 0.5 9V2.5C0.5 2.36739 0.552678 2.24021 0.646447 2.14645C0.740215 2.05268 0.867392 2 1 2H4ZM9.5 0.5V4.5H8.5V2.2065L4.6035 6.1035L3.8965 5.3965L7.7925 1.5H5.5V0.5H9.5Z"fill=currentColor>'),gr=D('<button type=button class="mt-3 text-xs text-white/50 font-semibold">'),wr=D('<div class="flex flex-col justify-center items-center p-10"><img src=https://unified.jup.ag/new_user_onboarding.png width=160 height=160><div class="mt-4 flex flex-col justify-center items-center text-center"><span class="text-lg font-semibold"></span><span class="mt-3 text-sm text-white/50"></span></div><div class="mt-6 w-full"><button type=button class="font-semibold text-base w-full rounded-lg border border-white/10 py-5 leading-none bg-black hover:bg-black/50">'),pr=D('<div class="flex flex-col justify-center py-3 px-10"><span class="text-base font-semibold"></span><div class="mt-4 w-full space-y-2"><a href="https://station.jup.ag/partners?category=Wallets"target=_blank class="px-5 py-4 flex space-x-4 w-full rounded-lg text-sm font-semibold items-center bg-white/5 hover:bg-white/20 border border-white/10 shadow-lg"><div class="fill-current w-5 h-5 flex items-center p-0.5 text-white/30"></div><span></span></a></div><span class="mt-3 text-center text-xs text-white/50"></span><button type=button class="mt-3 text-xs font-semibold text-white/50">'),vr=D('<div class="duration-500 animate-fade-in overflow-y-scroll hideScrollbar">'),yr=D('<svg viewBox="0 0 24 24"fill=inherit xmlns=http://www.w3.org/2000/svg><path d="M12 0C18.6271 0 24 5.37288 24 12C24 18.6271 18.6269 24 12 24C5.37312 24 0 18.6286 0 12C0 5.37144 5.37216 0 12 0Z"fill=#23C1AA></path><path d="M10.79 14.55H12.89V14.355C12.89 13.925 13.01 13.55 13.25 13.23C13.49 12.91 13.765 12.605 14.075 12.315C14.315 12.085 14.545 11.85 14.765 11.61C14.985 11.36 15.165 11.09 15.305 10.8C15.455 10.5 15.53 10.16 15.53 9.78C15.53 9.25 15.395 8.75 15.125 8.28C14.855 7.8 14.45 7.41 13.91 7.11C13.38 6.8 12.725 6.645 11.945 6.645C11.305 6.645 10.725 6.765 10.205 7.005C9.69504 7.245 9.27504 7.575 8.94504 7.995C8.62504 8.415 8.42004 8.905 8.33004 9.465L10.415 9.99C10.475 9.61 10.64 9.31 10.91 9.09C11.19 8.86 11.515 8.745 11.885 8.745C12.315 8.745 12.64 8.85 12.86 9.06C13.09 9.26 13.205 9.52 13.205 9.84C13.205 10.15 13.09 10.425 12.86 10.665C12.63 10.895 12.37 11.155 12.08 11.445C11.77 11.765 11.475 12.14 11.195 12.57C10.925 13 10.79 13.545 10.79 14.205V14.55ZM10.73 18H12.98V15.75H10.73V18Z"fill=white>'),mr=D("<img class=object-contain>"),br=D("<span>"),Er=D('<span class="font-semibold text-xs overflow-hidden text-ellipsis">'),Mr=D("<li>"),Or=D('<svg width=10 height=6 viewBox="0 0 10 6"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d="M0.292893 5.70711C0.683416 6.09763 1.31658 6.09763 1.7071 5.70711L4.99999 2.41421L8.29288 5.70711C8.6834 6.09763 9.31657 6.09763 9.70709 5.70711C10.0976 5.31658 10.0976 4.68342 9.70709 4.29289L5.7071 0.292893C5.31657 -0.097631 4.68341 -0.097631 4.29289 0.292893L0.292893 4.29289C-0.0976309 4.68342 -0.0976309 5.31658 0.292893 5.70711Z"fill=currentColor>'),Cr=D('<svg width=10 height=6 viewBox="0 0 10 6"fill=inherit xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d="M0.292893 0.292893C0.683416 -0.097631 1.31658 -0.097631 1.7071 0.292893L4.99999 3.58579L8.29288 0.292893C8.6834 -0.0976311 9.31657 -0.0976311 9.70709 0.292893C10.0976 0.683417 10.0976 1.31658 9.70709 1.70711L5.7071 5.70711C5.31657 6.09763 4.68341 6.09763 4.29289 5.70711L0.292893 1.70711C-0.0976309 1.31658 -0.0976309 0.683417 0.292893 0.292893Z"fill=currentColor>'),Ar=D('<div class="transition-all duration-200 overflow-hidden">'),Sr=D('<div class="hideScrollbar duration-500 animate-fade-in overflow-y-scroll"><div class="flex flex-col justify-center items-center p-5"><img width=100 height=100></div><div class="flex flex-col justify-center items-center text-center"><span class="text-base font-semibold"></span><a rel="noopener noreferrer"target=_blank class="text-xs flex my-3 items-center space-x-2 underline"><span> </span></a><div class="mt-5 flex w-full px-10 flex-col items-start justify-start text-start"><p class="text-xs font-semibold"></p><ul class="text-xs pl-8 mt-2 list-disc"><li></li></ul></div><div class="mt-5 flex w-full px-10 flex-col items-start justify-start text-start"><p class="text-xs font-semibold"></p><ul class="text-xs pl-8 mt-2 list-disc"><li></li></ul></div><div class="border-t border-t-white/10 mt-5 w-full"></div>``<div class="flex space-x-2 justify-between w-full p-5"><button type=button class="text-white font-semibold text-base w-full rounded-lg border border-white/10 px-2 py-4 leading-none bg-black hover:bg-black/50"></button><button type=button class="text-white font-semibold text-base w-full rounded-lg border border-white/10 px-2 py-4 leading-none bg-black hover:bg-black/50">'),Nr=D('<div class="text-xs font-semibold mt-4 -mb-2 text-white/80 underline cursor-pointer"><a target=_blank rel="noopener noreferrer"><span>'),_r=D('<button type=button class="mt-5 flex w-full items-center justify-between cursor-pointer"><span class="text-xs font-semibold"><span class=text-white></span></span><span class="w-[10px] h-[6px]">'),Ir=D('<div class="text-xs font-semibold underline"><a target=_blank rel="noopener noreferrer"><span>'),Tr=D('<div><div class="mt-4 grid gap-2 grid-cols-2 pb-4"translate=no>'),Lr=D('<div class="hideScrollbar h-full overflow-y-scroll pt-2 pb-8 px-5 relative"><span class="text-xs font-semibold"></span><div class="mt-4 flex flex-col space-y-2"></div><div class="text-xs font-semibold mt-4 -mb-2 text-white/80 underline cursor-pointer"><button class=bg-jupiter-bg type=button><span class=text-white>'),Dr=D('<div class="block w-full h-20 absolute left-0 bottom-7 z-50 bg-gradient-to-t from-jupiter-bg to-transparent pointer-events-none">'),xr=D('<span class="font-semibold text-xs ml-4 text-white">'),dn=D("<div>"),jr=D("<ul>"),Pr=D('<div class="px-5 py-6 flex justify-between leading-none border-b border-b-white/10"><div><div></div><div>'),zr=D('<div class="fixed inset-0 z-50 flex items-center justify-center px-4">'),Rr=D('<button type=button class="flex items-center py-2 px-3 rounded-2xl h-7 cursor-pointer bg-v3-bg text-white w-auto"><span class="w-4 h-4 rounded-full flex justify-center items-center"><img alt="Wallet logo"width=16 height=16></span><span class="ml-2 text-xs text-white">'),kr=D('<span class="block md:hidden"><span>Connect'),Ur=D('<span class="hidden md:block"><span>Connect Wallet'),Wr=D("<button type=button>"),$r=D("<span class=text-xs><span>Connecting..."),Fr=Object.create,fn=Object.defineProperty,Br=Object.getOwnPropertyDescriptor,hn=Object.getOwnPropertyNames,Yr=Object.getPrototypeOf,Kr=Object.prototype.hasOwnProperty,Qr=(e,t)=>function(){return t||(0,e[hn(e)[0]])((t={exports:{}}).exports,t),t.exports},Hr=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hn(t))!Kr.call(e,o)&&o!==n&&fn(e,o,{get:()=>t[o],enumerable:!(r=Br(t,o))||r.enumerable});return e},Gr=(e,t,n)=>(n=e!=null?Fr(Yr(e)):{},Hr(fn(n,"default",{value:e,enumerable:!0}),e)),Vr=Qr({"../../node_modules/.pnpm/eventemitter3@4.0.7/node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(r=!1));function i(c,a,u){this.fn=c,this.context=a,this.once=u||!1}function s(c,a,u,h,g){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,h||c,g),O=r?r+a:a;return c._events[O]?c._events[O].fn?c._events[O]=[c._events[O],f]:c._events[O].push(f):(c._events[O]=f,c._eventsCount++),c}function l(c,a){--c._eventsCount===0?c._events=new o:delete c._events[a]}function d(){this._events=new o,this._eventsCount=0}d.prototype.eventNames=function(){var a=[],u,h;if(this._eventsCount===0)return a;for(h in u=this._events)n.call(u,h)&&a.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(u)):a},d.prototype.listeners=function(a){var u=r?r+a:a,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,f=h.length,O=new Array(f);g<f;g++)O[g]=h[g].fn;return O},d.prototype.listenerCount=function(a){var u=r?r+a:a,h=this._events[u];return h?h.fn?1:h.length:0},d.prototype.emit=function(a,u,h,g,f,O){var E=r?r+a:a;if(!this._events[E])return!1;var w=this._events[E],C=arguments.length,y,v;if(w.fn){switch(w.once&&this.removeListener(a,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,h),!0;case 4:return w.fn.call(w.context,u,h,g),!0;case 5:return w.fn.call(w.context,u,h,g,f),!0;case 6:return w.fn.call(w.context,u,h,g,f,O),!0}for(v=1,y=new Array(C-1);v<C;v++)y[v-1]=arguments[v];w.fn.apply(w.context,y)}else{var M=w.length,b;for(v=0;v<M;v++)switch(w[v].once&&this.removeListener(a,w[v].fn,void 0,!0),C){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,u);break;case 3:w[v].fn.call(w[v].context,u,h);break;case 4:w[v].fn.call(w[v].context,u,h,g);break;default:if(!y)for(b=1,y=new Array(C-1);b<C;b++)y[b-1]=arguments[b];w[v].fn.apply(w[v].context,y)}}return!0},d.prototype.on=function(a,u,h){return s(this,a,u,h,!1)},d.prototype.once=function(a,u,h){return s(this,a,u,h,!0)},d.prototype.removeListener=function(a,u,h,g){var f=r?r+a:a;if(!this._events[f])return this;if(!u)return l(this,f),this;var O=this._events[f];if(O.fn)O.fn===u&&(!g||O.once)&&(!h||O.context===h)&&l(this,f);else{for(var E=0,w=[],C=O.length;E<C;E++)(O[E].fn!==u||g&&!O[E].once||h&&O[E].context!==h)&&w.push(O[E]);w.length?this._events[f]=w.length===1?w[0]:w:l(this,f)}return this},d.prototype.removeAllListeners=function(a){var u;return a?(u=r?r+a:a,this._events[u]&&l(this,u)):(this._events=new o,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,typeof t<"u"&&(t.exports=d)}});function gn(e,t){const n=Ie(t);return[r=>m(n.Provider,{value:e(r),get children(){return r.children}}),()=>ve(n)]}Gr(Vr());var Me;(function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"})(Me||(Me={}));var wn="Mobile Wallet Adapter",tt=()=>typeof window<"u"&&screen&&screen.width<=480;function pn(e){console.log("dispatchConnect: connecting to: ",{payload:e});const t=new CustomEvent(Y.CONNECT,{detail:e});window.dispatchEvent(t)}function Zr(){console.log("dispatchDisconnect");const e=new CustomEvent(Y.DISCONNECT);window.dispatchEvent(e)}var Y={CONNECT:"unified:connect",DISCONNECT:"unified:disconnect",CONNECTING:"unified:connecting",WALLET_CHANGED:"unified:wallet-changed",AVAILABLE_WALLETS_CHANGED:"unified:available-wallets-changed"},vn={EN:"en",ZH:"zh",VI:"vi",FR:"fr",JA:"ja",ID:"id",RU:"ru"},Jr=vn.EN,Xr={"Connecting...":{zh:"连接中...",vi:"Đang kết nối...",fr:"Connexion...",ja:"接続中...",id:"Sedang menghubungkan...",ru:"Подключение..."},"Connect Wallet":{zh:"连接钱包",vi:"Kết nối ví",fr:"Connecter le portefeuille",ja:"ウォレットに接続する",id:"Hubungkan dompet",ru:"Подключить кошелек"},Connect:{zh:"连接",vi:"Kết nối",fr:"Connecter",ja:"接続",id:"Hubungkan",ru:"Подключить"},"You need to connect a Solana wallet.":{zh:"您需要连接一个 Solana 钱包。",vi:"Bạn cần kết nối ví Solana.",fr:"Vous devez connecter un portefeuille Solana.",ja:"Solanaウォレットを接続する必要があります。",id:"Anda perlu menghubungkan dompet Solana.",ru:"Вам нужно подключить кошелек Solana."},"New here?":{zh:"新来的？",vi:"Mới đến?",fr:"Nouveau ici?",ja:"初めてですか？",id:"Baru disini?",ru:"Новичок?"},"Welcome to DeFi! Create a crypto wallet to get started!":{zh:"欢迎来到 DeFi！创建一个加密钱包吧！",vi:"Chào mừng đến với DeFi! Tạo ví crypto để bắt đầu!",fr:"Bienvenue dans DeFi! Créez un portefeuille crypto pour commencer!",ja:"DeFiへようこそ！暗号ウォレットを作成して始めましょう！",id:"Selamat datang di DeFi! Buat dompet crypto untuk memulai!",ru:"Добро пожаловать в DeFi! Создайте криптокошелек, чтобы начать!"},"Get Started":{zh:"开始",vi:"Bắt đầu",fr:"Commencer",ja:"始める",id:"Mulai",ru:"Начать"},"Popular wallets to get started":{zh:"热门钱包",vi:"Ví phổ biến để bắt đầu",fr:"Portefeuilles populaires pour commencer",ja:"始める人気のウォレット",id:"Dompet populer untuk memulai",ru:"Популярные кошельки для начала"},"More wallets":{zh:"更多钱包",vi:"Thêm ví",fr:"Plus de portefeuilles",ja:"その他のウォレット",id:"Dompet lainnya",ru:"Другие кошельки"},"Once installed, refresh this page":{zh:"安装后，请刷新此页面",vi:"Sau khi cài đặt, làm mới trang này",fr:"Une fois installé, rafraîchissez cette page",ja:"インストールしたら、このページを更新してください",id:"Setelah diinstal, segarkan halaman ini",ru:"После установки обновите эту страницу"},"Go back":{zh:"返回",vi:"Quay lại",fr:"Retourner",ja:"戻る",id:"Kembali",ru:"Назад"},"Recently used":{zh:"最近使用",vi:"Đã sử dụng gần đây",fr:"Utilisé récemment",ja:"最近使用した",id:"Baru saja digunakan",ru:"Недавно использованные"},"Installed wallets":{zh:"已安装钱包",vi:"Các ví đã cài đặt",fr:"Portefeuilles installés",ja:"インストール済みのウォレット",id:"Dompet yang diinstal",ru:"Установленные кошельки"},"Popular wallets":{zh:"热门钱包",vi:"Ví phổ biến",fr:"Portefeuilles populaires",ja:"人気のウォレット",id:"Dompet populer",ru:"Популярные кошельки"},"Can't find your wallet?":{zh:"找不到您的钱包？",vi:"Không tìm thấy ví của bạn?",fr:"Vous ne trouvez pas votre portefeuille?",ja:"ウォレットが見つかりませんか？",id:"Tidak dapat menemukan dompet Anda?",ru:"Не можете найти свой кошелек?"},"I don't have a wallet":{zh:"我没有钱包",vi:"Tôi không có ví",fr:"Je n'ai pas de portefeuille",ja:"私はウォレットを持っていません",id:"Saya tidak punya dompet",ru:"У меня нет кошелька"},"Have you installed":{zh:"您是否已安装",vi:"Bạn đã cài đặt",fr:"Avez-vous installé",ja:"インストールしましたか",id:"Apakah Anda sudah menginstal",ru:"Вы установили"},Install:{zh:"安装",vi:"Cài đặt",fr:"Installer",ja:"インストール",id:"Memasang",ru:"Установить"},"On mobile:":{zh:"在手机上：",vi:"Trên điện thoại:",fr:"Sur mobile:",ja:"モバイル：",id:"Di ponsel:",ru:"На мобильном:"},"You should open the app instead":{zh:"您应该打开应用程序",vi:"Bạn nên mở ứng dụng thay vì",fr:"Vous devriez ouvrir l'application à la place",ja:"代わりにアプリを開く必要があります",id:"Anda harus membuka aplikasi bukannya",ru:"Вместо этого вы должны открыть приложение"},"On desktop:":{zh:"在桌面上：",vi:"Trên máy tính để bàn:",fr:"Sur ordinateur:",ja:"デスクトップ：",id:"Di desktop:",ru:"На рабочем столе:"},"Install and refresh the page":{zh:"安装并刷新页面",vi:"Cài đặt và làm mới trang",fr:"Installez et actualisez la page",ja:"インストールしてページを更新する",id:"Pasang dan segarkan halaman",ru:"Установите и обновите страницу"}},[qr,eo]=gn(e=>{const[t,n]=j(e.locale);function r(o){const i=t();if(i===vn.EN)return o;const s=Xr[o];if(!s)return;const l=s[i];return l||"not found"}return{locale:t,setLocale:n,t:r}}),yn=()=>{const e=eo();if(!e)throw new Error("useTranslation must be used within a TranslationProvider");return e},to=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g;function no(e){const t={};let n;for(;n=to.exec(e);)t[n[1]]=n[2];return t}function mn(e,t){return typeof t=="string"&&(t=no(t)),{...e,...t}}var bn=(e,t)=>(e&&(typeof e=="function"?e(t):e[0](e[1],t)),t.defaultPrevented),Se=(e,t)=>{if(e.contains(t))return!0;let n=t;for(;n;){if(n===e)return!0;n=n._$host??n.parentElement}return!1},S=e=>typeof e=="function"?e():e,ro=e=>(...t)=>{for(const n of e)n&&n(...t)},at=(...e)=>ro(e),Dt=(...e)=>e.some(t=>!!t()),oo=e=>T(()=>S(e.element)?.tagName.toLowerCase()??e.fallback),io=oo,En=e=>typeof e=="function"&&e.length>0,so=["button","color","file","image","reset","submit"],ao=(e,t)=>e==="button"?!0:e==="input"&&t!==void 0?so.indexOf(t)!==-1:!1,Ne=e=>e?"":void 0,lo=e=>{const[t,n]=G(e,["as"]),r=T(()=>t.as??"div");return T(()=>{const i=r();switch(typeof i){case"function":return _e(()=>i(n));case"string":return m(Tt,R({component:i},n))}})},Ue=lo,co=e=>{const[t,n]=j(null),[r,o]=G(e,["ref","type"]),i=io({element:t,fallback:"button"}),s=T(()=>ao(i(),r.type));return m(Ue,R({as:"button",ref(l){var d=at(n,r.ref);typeof d=="function"&&d(l)},get type(){return s()?"button":void 0},get role(){return s()?void 0:"button"}},o))},Mn=co,Ze=new Map,On=(e,t)=>{if(Ze.has(e))return Ze.get(e);const n=Ie(t);return Ze.set(e,n),n},Cn=e=>{const t=Ze.get(e);if(t)return ve(t)},Ye=new Map,uo=e=>{P(()=>{const t=S(e.style)??{},n=S(e.properties)??[],r={};for(const i in t)r[i]=e.element.style[i];const o=Ye.get(e.key);o?o.activeCount++:Ye.set(e.key,{activeCount:1,originalStyles:r,properties:n.map(i=>i.key)}),Object.assign(e.element.style,e.style);for(const i of n)e.element.style.setProperty(i.key,i.value);U(()=>{const i=Ye.get(e.key);if(i){if(i.activeCount!==1){i.activeCount--;return}Ye.delete(e.key);for(const[s,l]of Object.entries(i.originalStyles))e.element.style[s]=l;for(const s of i.properties)e.element.style.removeProperty(s);e.element.style.length===0&&e.element.removeAttribute("style"),e.cleanup?.()}})})},Ct=uo,fo=e=>{const t=R({enabled:!0},e);P(()=>{S(t.enabled)&&(document.addEventListener("keydown",n),U(()=>{document.removeEventListener("keydown",n)}))});const n=r=>{r.key==="Escape"&&t.onEscapeKeyDown(r)}},ho=fo,go=e=>{const t=R({enabled:!0},e);P(()=>{const{body:n}=document;S(t.enabled)&&Ct({key:"no-pointer-events",element:n,style:{pointerEvents:"none"}})})},wo=go,po="dismissible.outsideFocus",vo={bubbles:!1,cancelable:!0},yo=e=>{const t=R({enabled:!0,ignorePointerEvents:!1},e);let n=!1;P(()=>{if(!S(t.enabled))return;const i=S(t.ignorePointerEvents);document.addEventListener("focusin",r),i&&document.addEventListener("pointerdown",o),U(()=>{document.removeEventListener("focusin",r),i&&document.removeEventListener("pointerdown",o)})});const r=i=>{if(n){n=!1;return}const s=S(t.element);if(s&&!Se(s,i.target)){const l=new CustomEvent(po,vo);s.dispatchEvent(l),t.onFocus(l)}},o=()=>{n=!0}},mo=yo,bo=e=>{const t=R({enabled:!0,strategy:"pointerup"},e);P(()=>{if(!S(t.enabled))return;const r=S(t.strategy);document.addEventListener(r,n),U(()=>{document.removeEventListener(r,n)})});const n=r=>{const o=S(t.element),i=S(t.ignore);o&&!Se(o,r.target)&&!(i&&i.some(s=>s&&Se(s,r.target)))&&t.onPointer(r)}},Eo=bo,Mo=e=>{const t=R({dismissOnEscapeKeyDown:!0,dismissOnOutsideFocus:!0,dismissOnOutsidePointer:!0,outsidePointerStrategy:"pointerup",noOutsidePointerEvents:!0},e);ho({enabled:()=>S(t.dismissOnEscapeKeyDown),onEscapeKeyDown:n=>{t.onEscapeKeyDown?.(n),n.defaultPrevented||t.onDismiss("escapeKey")}}),mo({enabled:()=>S(t.dismissOnOutsideFocus),onFocus:n=>{t.onOutsideFocus?.(n),n.defaultPrevented||t.onDismiss("outsideFocus")},element:()=>S(t.element),ignorePointerEvents:()=>S(t.noOutsidePointerEvents)||S(t.dismissOnOutsidePointer)}),Eo({enabled:()=>S(t.dismissOnOutsidePointer),strategy:()=>S(t.outsidePointerStrategy),ignore:()=>S(t.outsidePointerIgnore)??[],onPointer:n=>{if(t.onOutsidePointer?.(n),!n.defaultPrevented){const r=n.button===0&&n.ctrlKey===!0;if(n.button===2||r)return;t.onDismiss("outsidePointer")}},element:()=>S(t.element)}),wo({enabled:()=>S(t.noOutsidePointerEvents)})},Oo=Mo,At=Ie(),Co=e=>{const t=R({dismissibleId:Ce()},e);return T(()=>{if(ve(At))return m(Wt,e);const[o,i]=j([t.dismissibleId]),s=d=>{i(c=>[...c,d])},l=d=>{i(c=>c.filter(a=>a!==d))};return m(At.Provider,{value:{layers:o,onLayerShow:s,onLayerDismiss:l},get children(){return m(Wt,e)}})})},[Pa,ct]=j([]),Wt=e=>{const t=R({enabled:!0,dismissibleId:Ce(),dismissOnEscapeKeyDown:!0,dismissOnOutsideFocus:!0,dismissOnOutsidePointer:!0,outsidePointerStrategy:"pointerup",noOutsidePointerEvents:!0},e),[n,r]=G(t,["enabled","children","dismissOnEscapeKeyDown","dismissOnOutsideFocus","dismissOnOutsidePointer","outsidePointerStrategy","outsidePointerIgnore","noOutsidePointerEvents","onDismiss"]),o=ve(At);U(()=>{o.onLayerDismiss(t.dismissibleId),ct(d=>d.filter(c=>c!==t.dismissibleId))}),P(()=>{n.enabled?(o.onLayerShow(t.dismissibleId),ct(d=>[...d,t.dismissibleId])):(o.onLayerDismiss(t.dismissibleId),ct(d=>d.filter(c=>c!==t.dismissibleId)))});const i=()=>o.layers()[o.layers().length-1]===t.dismissibleId;Oo({dismissOnEscapeKeyDown:()=>S(n.dismissOnEscapeKeyDown)&&i()&&n.enabled,dismissOnOutsideFocus:()=>S(n.dismissOnOutsideFocus)&&i()&&n.enabled,dismissOnOutsidePointer:()=>S(n.dismissOnOutsidePointer)&&i()&&n.enabled,outsidePointerStrategy:n.outsidePointerStrategy,outsidePointerIgnore:n.outsidePointerIgnore,noOutsidePointerEvents:()=>S(n.noOutsidePointerEvents)&&n.enabled,onDismiss:d=>{n.onDismiss(d)},...r});const s=T(()=>n.children),l=()=>{const d=s();return En(d)?d({get isLastLayer(){return i()}}):d};return _e(()=>l())},Ao=Co,So=Ao;function No(e){const[t,n]=j(e.initialValue),r=()=>e.value?.()!==void 0,o=()=>r()?e.value?.():t();return[o,s=>_e(()=>{let l;return typeof s=="function"?l=s(o()):l=s,Object.is(l,o())||(r()||n(l),e.onChange?.(l)),l})]}var _o=No,ne=e=>typeof e=="function"?e():e,$t=e=>requestAnimationFrame(()=>requestAnimationFrame(e)),Io='a[href]:not([tabindex="-1"]), button:not([tabindex="-1"]), input:not([tabindex="-1"]), textarea:not([tabindex="-1"]), select:not([tabindex="-1"]), details:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"])',ut="focusTrap.initialFocus",dt="focusTrap.finalFocus",Ft={bubbles:!1,cancelable:!0},To=e=>{const t=R({enabled:!0,observeChanges:!0,restoreFocus:!0},e),[n,r]=j(null),o=T(()=>{const f=n();return f?f[0]??null:null}),i=T(()=>{const f=n();return f?f[f.length-1]??null:null});let s=null;const l=()=>{d(ne(t.element)),(document.activeElement===null||document.activeElement===document.body)&&c(ne(t.element))};P(()=>{const f=ne(t.element);if(f&&ne(t.enabled)){s=document.activeElement,_e(()=>{d(f),c(f)});const O=new MutationObserver(l);ne(t.observeChanges)&&O.observe(f,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabindex"]}),U(()=>{ne(t.observeChanges)&&O.disconnect(),r(null),g(f)})}}),P(()=>{const f=n();f===null||f.length!==0||(document.addEventListener("keydown",h),U(()=>{document.removeEventListener("keydown",h)}))}),P(()=>{const f=o();f&&(f.addEventListener("keydown",a),U(()=>{f.removeEventListener("keydown",a)}))}),P(()=>{const f=i();f&&(f.addEventListener("keydown",u),U(()=>{f.removeEventListener("keydown",u)}))});const d=f=>{r(Array.from(f.querySelectorAll(Io)))},c=f=>{const O=ne(t.initialFocusElement)??o()??f,E=t.onInitialFocus;let w;E&&(w=new CustomEvent(ut,Ft),f.addEventListener(ut,E),f.dispatchEvent(w),f.removeEventListener(ut,E)),w?.defaultPrevented!==!0&&$t(()=>O.focus())},a=f=>{f.key==="Tab"&&f.shiftKey&&(f.preventDefault(),i().focus())},u=f=>{f.key==="Tab"&&!f.shiftKey&&(f.preventDefault(),o().focus())},h=f=>{f.key==="Tab"&&f.preventDefault()},g=f=>{if(!ne(t.restoreFocus))return;const E=ne(t.finalFocusElement)??s;if(!E)return;let w;const C=t.onFinalFocus;C&&(w=new CustomEvent(dt,Ft),f.addEventListener(dt,C),f.dispatchEvent(w),f.removeEventListener(dt,C)),w?.defaultPrevented!==!0&&$t(()=>E.focus())}},Lo=To,Do=Lo,xo=e=>{let t,n=!1;return()=>n?t:(n=!0,t=T(e))},jo=xo,Po=e=>{const t=T(()=>{const s=S(e.element);if(s)return getComputedStyle(s)}),n=()=>t()?.animationName??"none",[r,o]=j(S(e.show)?"present":"hidden");let i="none";return P(s=>{const l=S(e.show);return _e(()=>{if(s===l)return l;const d=i,c=n();l?o("present"):c==="none"||t()?.display==="none"?o("hidden"):o(s===!0&&d!==c?"hiding":"hidden")}),l}),P(()=>{const s=S(e.element);if(!s)return;const l=c=>{c.target===s&&(i=n())},d=c=>{const u=n().includes(c.animationName);c.target===s&&u&&r()==="hiding"&&o("hidden")};s.addEventListener("animationstart",l),s.addEventListener("animationcancel",d),s.addEventListener("animationend",d),U(()=>{s.removeEventListener("animationstart",l),s.removeEventListener("animationcancel",d),s.removeEventListener("animationend",d)})}),{present:()=>r()==="present"||r()==="hiding",state:r,setState:o}},zo=Po,Bt=zo,Ro=(e,t)=>{switch(t){case"x":return[e.clientWidth,e.scrollLeft,e.scrollWidth];case"y":return[e.clientHeight,e.scrollTop,e.scrollHeight]}},ko=(e,t)=>{const n=getComputedStyle(e),r=t==="x"?n.overflowX:n.overflowY;return r==="auto"||r==="scroll"||e.tagName==="HTML"&&r==="visible"},Uo=(e,t,n)=>{const r=t==="x"&&window.getComputedStyle(e).direction==="rtl"?-1:1;let o=e,i=0,s=0,l=!1;do{const[d,c,a]=Ro(o,t),u=a-d-r*c;(c!==0||u!==0)&&ko(o,t)&&(i+=u,s+=c),o===(n??document.documentElement)?l=!0:o=o._$host??o.parentElement}while(o&&!l);return[i,s]},[Yt,Kt]=j([]),Wo=e=>Yt().indexOf(e)===Yt().length-1,$o=e=>{const t=R({element:null,enabled:!0,hideScrollbar:!0,preventScrollbarShift:!0,preventScrollbarShiftMode:"padding",restoreScrollPosition:!0,allowPinchZoom:!1},e),n=Ce();let r=[0,0],o=null,i=null;P(()=>{S(t.enabled)&&(Kt(c=>[...c,n]),U(()=>{Kt(c=>c.filter(a=>a!==n))}))}),P(()=>{if(!S(t.enabled)||!S(t.hideScrollbar))return;const{body:c}=document,a=window.innerWidth-c.offsetWidth;if(S(t.preventScrollbarShift)){const u={overflow:"hidden"},h=[];a>0&&(S(t.preventScrollbarShiftMode)==="padding"?u.paddingRight=`calc(${window.getComputedStyle(c).paddingRight} + ${a}px)`:u.marginRight=`calc(${window.getComputedStyle(c).marginRight} + ${a}px)`,h.push({key:"--scrollbar-width",value:`${a}px`}));const g=window.scrollY,f=window.scrollX;Ct({key:"prevent-scroll",element:c,style:u,properties:h,cleanup:()=>{S(t.restoreScrollPosition)&&a>0&&window.scrollTo(f,g)}})}else Ct({key:"prevent-scroll",element:c,style:{overflow:"hidden"}})}),P(()=>{!Wo(n)||!S(t.enabled)||(document.addEventListener("wheel",l,{passive:!1}),document.addEventListener("touchstart",s,{passive:!1}),document.addEventListener("touchmove",d,{passive:!1}),U(()=>{document.removeEventListener("wheel",l),document.removeEventListener("touchstart",s),document.removeEventListener("touchmove",d)}))});const s=c=>{r=Qt(c),o=null,i=null},l=c=>{const a=c.target,u=S(t.element),h=Fo(c),g=Math.abs(h[0])>Math.abs(h[1])?"x":"y",f=g==="x"?h[0]:h[1],O=Ht(a,g,f,u);let E;u&&Se(u,a)?E=!O:E=!0,E&&c.cancelable&&c.preventDefault()},d=c=>{const a=S(t.element),u=c.target;let h;if(c.touches.length===2)h=!S(t.allowPinchZoom);else{if(o==null||i===null){const g=Qt(c).map((O,E)=>r[E]-O),f=Math.abs(g[0])>Math.abs(g[1])?"x":"y";o=f,i=f==="x"?g[0]:g[1]}if(u.type==="range")h=!1;else{const g=Ht(u,o,i,a);a&&Se(a,u)?h=!g:h=!0}}h&&c.cancelable&&c.preventDefault()}},Fo=e=>[e.deltaX,e.deltaY],Qt=e=>e.changedTouches[0]?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0],Ht=(e,t,n,r)=>{const o=r!==null&&Se(r,e),[i,s]=Uo(e,t,o?r:void 0);return!(n>0&&Math.abs(i)<=1||n<0&&Math.abs(s)<1)},Bo=$o,Yo=Bo,Ko=e=>{const t=R({initialRegistered:!1},e),[n,r]=j(t.initialRegistered);return[T(()=>{if(n())return S(t.value)}),()=>{r(!0)},()=>{r(!1)}]},Gt=Ko,An=Ie(),Qo=e=>e===void 0?An:On(`dialog-${e}`),Ho=e=>{if(e===void 0){const n=ve(An);if(!n)throw new Error("[corvu]: Dialog context not found. Make sure to wrap Dialog components in <Dialog.Root>");return n}const t=Cn(`dialog-${e}`);if(!t)throw new Error(`[corvu]: Dialog context with id "${e}" not found. Make sure to wrap Dialog components in <Dialog.Root contextId="${e}">`);return t},Sn=Ie(),Go=e=>e===void 0?Sn:On(`dialog-internal-${e}`),ye=e=>{if(e===void 0){const n=ve(Sn);if(!n)throw new Error("[corvu]: Dialog context not found. Make sure to wrap Dialog components in <Dialog.Root>");return n}const t=Cn(`dialog-internal-${e}`);if(!t)throw new Error(`[corvu]: Dialog context with id "${e}" not found. Make sure to wrap Dialog components in <Dialog.Root contextId="${e}">`);return t},Vo=e=>{const[t,n]=G(e,["contextId","onClick"]),r=T(()=>ye(t.contextId));return m(Mn,R({onClick:i=>{!bn(t.onClick,i)&&r().setOpen(!1)},"aria-label":"close","data-corvu-dialog-close":""},n))},Zo=Vo,Jo=e=>{const[t,n]=G(e,["forceMount","contextId","ref","style"]),r=T(()=>ye(t.contextId)),o=()=>Dt(r().open,()=>t.forceMount,r().contentPresent),i=T(()=>r().open()||r().contentPresent());return m(So,{get element(){return r().contentRef},get enabled(){return i()},get dismissibleId(){return r().dialogId()},onDismiss:()=>r().setOpen(!1),get dismissOnEscapeKeyDown(){return r().closeOnEscapeKeyDown},get dismissOnOutsideFocus(){return r().closeOnOutsideFocus},get dismissOnOutsidePointer(){return r().closeOnOutsidePointer},get outsidePointerStrategy(){return r().closeOnOutsidePointerStrategy},outsidePointerIgnore:()=>[r().triggerRef()],get noOutsidePointerEvents(){return r().noOutsidePointerEvents},get onEscapeKeyDown(){return r().onEscapeKeyDown},get onOutsideFocus(){return r().onOutsideFocus},get onOutsidePointer(){return r().onOutsidePointer},children:s=>m(X,{get when(){return o()},get children(){return m(Ue,R({as:"div",ref(l){var d=at(r().setContentRef,t.ref);typeof d=="function"&&d(l)},get style(){return mn({"pointer-events":s.isLastLayer?"auto":void 0},t.style)},get id(){return r().dialogId()},get role(){return r().role()},tabIndex:"-1",get"aria-describedby"(){return r().descriptionId()},get"aria-labelledby"(){return r().labelId()},get"aria-modal"(){return r().modal()?"true":"false"},get"data-closed"(){return Ne(!r().open())},get"data-open"(){return Ne(r().open())},"data-corvu-dialog-content":""},n))}})})},Xo=Jo,qo=e=>{const[t,n]=G(e,["contextId"]),r=T(()=>ye(t.contextId));return P(()=>{const o=r();o.registerDescriptionId(),U(()=>o.unregisterDescriptionId())}),m(Ue,R({as:"p",get id(){return r().descriptionId()},"data-corvu-dialog-description":""},n))},ei=qo,ti=e=>{const[t,n]=G(e,["contextId"]),r=T(()=>ye(t.contextId));return P(()=>{const o=r();o.registerLabelId(),U(()=>o.unregisterLabelId())}),m(Ue,R({as:"h2",get id(){return r().labelId()},"data-corvu-dialog-label":""},n))},ni=ti,ri=e=>{const[t,n]=G(e,["forceMount","contextId","ref","style"]),r=T(()=>ye(t.contextId)),o=()=>Dt(r().open,()=>t.forceMount,r().overlayPresent);return m(X,{get when(){return o()},get children(){return m(Ue,R({as:"div",ref(i){var s=at(r().setOverlayRef,t.ref);typeof s=="function"&&s(i)},get style(){return mn({"pointer-events":"auto"},t.style)},"aria-hidden":"true",get"data-closed"(){return Ne(!r().open())},get"data-open"(){return Ne(r().open())},"data-corvu-dialog-overlay":""},n))}})},oi=ri,ii=e=>{const[t,n]=G(e,["forceMount","contextId"]),r=T(()=>ye(t.contextId)),o=()=>Dt(r().open,()=>t.forceMount,r().contentPresent,r().overlayPresent);return m(X,{get when(){return o()},get children(){return m(Vn,n)}})},si=ii,ft=!0,ai=e=>{const t=R({role:"dialog",initialOpen:!1,modal:!0,closeOnEscapeKeyDown:!0,closeOnOutsideFocus:()=>e.trapFocus??!0,closeOnOutsidePointer:()=>e.modal??ft,closeOnOutsidePointerStrategy:"pointerup",noOutsidePointerEvents:()=>e.modal??ft,preventScroll:()=>e.modal??ft,hideScrollbar:!0,preventScrollbarShift:!0,preventScrollbarShiftMode:"padding",restoreScrollPosition:!0,allowPinchZoom:!0,trapFocus:!0,restoreFocus:!0,dialogId:Ce()},e),[n,r]=_o({value:()=>t.open,initialValue:t.initialOpen,onChange:t.onOpenChange}),[o,i,s]=Gt({value:()=>t.labelId??Ce()}),[l,d,c]=Gt({value:()=>t.descriptionId??Ce()}),[a,u]=j(null),[h,g]=j(null),[f,O]=j(null),{present:E}=Bt({show:n,element:h}),{present:w}=Bt({show:n,element:f});Do({element:h,enabled:()=>n()&&t.trapFocus,initialFocusElement:()=>t.initialFocusEl??null,restoreFocus:()=>t.restoreFocus,finalFocusElement:()=>t.finalFocusEl??null,onFinalFocus:t.onFinalFocus,onInitialFocus:t.onInitialFocus}),Yo({element:h,enabled:()=>E()&&S(t.preventScroll),hideScrollbar:()=>t.hideScrollbar,preventScrollbarShift:()=>t.preventScrollbarShift,preventScrollbarShiftMode:()=>t.preventScrollbarShiftMode,restoreScrollPosition:()=>t.restoreScrollPosition,allowPinchZoom:()=>t.allowPinchZoom});const C={get role(){return t.role},get open(){return n()},setOpen:r,get modal(){return t.modal},get closeOnEscapeKeyDown(){return t.closeOnEscapeKeyDown},get closeOnOutsideFocus(){return S(t.closeOnOutsideFocus)},get closeOnOutsidePointer(){return S(t.closeOnOutsidePointer)},get closeOnOutsidePointerStrategy(){return t.closeOnOutsidePointerStrategy},get noOutsidePointerEvents(){return S(t.noOutsidePointerEvents)},get preventScroll(){return S(t.preventScroll)},get hideScrollbar(){return t.hideScrollbar},get preventScrollbarShift(){return S(t.preventScrollbarShift)},get preventScrollbarShiftMode(){return t.preventScrollbarShiftMode},get restoreScrollPosition(){return t.restoreScrollPosition},get allowPinchZoom(){return t.allowPinchZoom},get trapFocus(){return t.trapFocus},get restoreFocus(){return t.restoreFocus},get initialFocusEl(){return t.initialFocusEl},get finalFocusEl(){return t.finalFocusEl},get contentPresent(){return E()},get contentRef(){return h()},get overlayPresent(){return w()},get overlayRef(){return f()},get dialogId(){return t.dialogId},get labelId(){return o()},get descriptionId(){return l()}},y=jo(()=>t.children),v=()=>{const b=y()();return En(b)?b(C):b};return T(()=>{const b=Qo(t.contextId),_=Go(t.contextId);return m(b.Provider,{value:{role:()=>t.role,open:n,setOpen:r,modal:()=>t.modal,closeOnEscapeKeyDown:()=>t.closeOnEscapeKeyDown,closeOnOutsideFocus:()=>S(t.closeOnOutsideFocus),closeOnOutsidePointer:()=>S(t.closeOnOutsidePointer),closeOnOutsidePointerStrategy:()=>t.closeOnOutsidePointerStrategy,noOutsidePointerEvents:()=>S(t.noOutsidePointerEvents),preventScroll:()=>S(t.preventScroll),hideScrollbar:()=>t.hideScrollbar,preventScrollbarShift:()=>S(t.preventScrollbarShift),preventScrollbarShiftMode:()=>t.preventScrollbarShiftMode,restoreScrollPosition:()=>t.restoreScrollPosition,allowPinchZoom:()=>t.allowPinchZoom,trapFocus:()=>t.trapFocus,restoreFocus:()=>t.restoreFocus,initialFocusEl:()=>t.initialFocusEl,finalFocusEl:()=>t.finalFocusEl,contentPresent:E,contentRef:h,overlayPresent:w,overlayRef:f,dialogId:()=>t.dialogId,labelId:o,descriptionId:l},get children(){return m(_.Provider,{get value(){return{role:()=>t.role,open:n,setOpen:r,modal:()=>t.modal,closeOnEscapeKeyDown:()=>t.closeOnEscapeKeyDown,onEscapeKeyDown:t.onEscapeKeyDown,closeOnOutsideFocus:()=>S(t.closeOnOutsideFocus),closeOnOutsidePointer:()=>S(t.closeOnOutsidePointer),closeOnOutsidePointerStrategy:()=>t.closeOnOutsidePointerStrategy,onOutsideFocus:t.onOutsideFocus,onOutsidePointer:t.onOutsidePointer,noOutsidePointerEvents:()=>S(t.noOutsidePointerEvents),preventScroll:()=>S(t.preventScroll),hideScrollbar:()=>t.hideScrollbar,preventScrollbarShift:()=>S(t.preventScrollbarShift),preventScrollbarShiftMode:()=>t.preventScrollbarShiftMode,restoreScrollPosition:()=>t.restoreScrollPosition,allowPinchZoom:()=>t.allowPinchZoom,trapFocus:()=>t.trapFocus,restoreFocus:()=>t.restoreFocus,initialFocusEl:()=>t.initialFocusEl,finalFocusEl:()=>t.finalFocusEl,contentPresent:E,contentRef:h,overlayPresent:w,overlayRef:f,dialogId:()=>t.dialogId,labelId:o,registerLabelId:i,unregisterLabelId:s,descriptionId:l,registerDescriptionId:d,unregisterDescriptionId:c,setContentRef:g,setOverlayRef:O,triggerRef:a,setTriggerRef:u}},get children(){return _e(()=>v())}})}})})},li=ai,ci=e=>{const[t,n]=G(e,["contextId","ref","onClick"]),r=T(()=>ye(t.contextId));return m(Mn,R({ref(i){var s=at(r().setTriggerRef,t.ref);typeof s=="function"&&s(i)},onClick:i=>{!bn(t.onClick,i)&&r().setOpen(s=>!s)},get"aria-controls"(){return r().dialogId()},get"aria-expanded"(){return r().open()?"true":"false"},"aria-haspopup":"dialog",get"data-closed"(){return Ne(!r().open())},get"data-open"(){return Ne(r().open())},"data-corvu-dialog-trigger":""},n))},ui=ci,di=Object.assign(li,{Trigger:ui,Portal:si,Overlay:oi,Content:Xo,Label:ni,Description:ei,Close:Zo,useContext:Ho}),ge=di,fi=e=>{const t=R({width:20,height:20},e);return(()=>{var n=fr();return Te(n,t,!0,!0),n})()},hi=fi,gi=e=>{const t=R({width:10,height:10},e);return(()=>{var n=hr();return Te(n,t,!0,!0),n})()},Nn=gi,wi=e=>{const{t}=We();return(()=>{var n=wr(),r=n.firstChild,o=r.nextSibling,i=o.firstChild,s=i.nextSibling,l=o.nextSibling,d=l.firstChild;return N(i,()=>t("New here?")),N(s,()=>t("Welcome to DeFi! Create a crypto wallet to get started!")),d.$$click=()=>e.setFlow("Get Wallet"),N(d,()=>t("Get Started")),N(n,m(X,{get when(){return e.showBack},get children(){var c=gr();return c.$$click=()=>e.onClose(),N(c,()=>"← "+t("Go back")),c}}),null),n})()},pi=e=>{const{t}=We();return(()=>{var n=pr(),r=n.firstChild,o=r.nextSibling,i=o.firstChild,s=i.firstChild,l=s.nextSibling,d=o.nextSibling,c=d.nextSibling;return N(r,()=>t("Popular wallets to get started")),N(s,m(Nn,{width:16,height:16})),N(l,()=>t("More wallets")),N(d,()=>t("Once installed, refresh this page")),c.$$click=()=>e.setFlow("Onboarding"),N(c,()=>"← "+t("Go back")),n})()},vi=e=>{const[t,n]=j("Onboarding"),[r,o]=j(!1);let i;const s=l=>{o(!0),setTimeout(()=>{i?.scrollTo(0,0),st(()=>{o(!1),n(l)})},200)};return P(Re(r,l=>{const d=["animate-fade-out","opacity-0"];l?i?.classList.add(...d):i?.classList.remove(...d)})),P(()=>{console.log({flow:t()})}),(()=>{var l=vr(),d=i;return typeof d=="function"?Lt(d,l):i=l,N(l,m(Pe,{get children(){return[m(B,{get when(){return t()==="Onboarding"},get children(){return m(wi,{get showBack(){return e.showBack},get flow(){return t()},setFlow:s,get onClose(){return e.onClose}})}}),m(B,{get when(){return t()==="Get Wallet"},get children(){return m(pi,{get flow(){return t()},setFlow:s})}})]}})),l})()},yi=e=>{const t=R({width:24,height:24},e);return(()=>{var n=yr();return Te(n,t,!0,!0),n})()},mi=yi,_n=e=>{const t=R({width:24,height:24},e),[n,r]=j(!1);function o(){r(!0)}return(()=>{var i=br();return N(i,m(X,{get when(){return T(()=>!!t.icon)()&&!n()},get fallback(){return m(mi,{get width(){return t.width},get height(){return t.height}})},get children(){var s=mr();return s.addEventListener("error",o),de(l=>{var d=t.width,c=t.height,a=t.icon,u=`${t.name} icon`;return d!==l.e&&ue(s,"width",l.e=d),c!==l.t&&ue(s,"height",l.t=c),a!==l.a&&ue(s,"src",l.a=a),u!==l.o&&ue(s,"alt",l.o=u),l},{e:void 0,t:void 0,a:void 0,o:void 0}),s}})),de(s=>{var l=t.width.toString(),d=t.height.toString();return l!==s.e&&((s.e=l)!=null?i.style.setProperty("min-width",l):i.style.removeProperty("min-width")),d!==s.t&&((s.t=d)!=null?i.style.setProperty("min-height",d):i.style.removeProperty("min-height")),s},{e:void 0,t:void 0}),i})()},bi=e=>{const{t}=yn(),n=T(()=>e.info.wallet.name===wn?t("Mobile"):e.info.wallet.name);return(()=>{var r=Mr();return N(r,m(Tt,{get component(){return e.info.type!=="ios-webview"?"button":"a"},type:"button",class:"flex items-center w-full px-5 py-4 space-x-5 transition-all border rounded-lg cursor-pointer border-white/10 hover:bg-white/10 hover:backdrop-blur-xl hover:shadow-2xl bg-jupiter-bg text-white",get onClick(){return e.info.type!=="ios-webview"?e.handleClick:void 0},get href(){return T(()=>e.info.type==="ios-webview")()?e.info.wallet.deepUrl?.(window.location):void 0},get target(){return e.info.type==="ios-webview"?"_blank":void 0},get children(){return[m(_n,{get name(){return e.info.wallet.name},get icon(){return e.info.wallet.icon},get width(){return tt()?24:30},get height(){return tt()?24:30}}),(()=>{var o=Er();return N(o,n),o})()]}})),r})()},Ei=e=>(()=>{var t=Or();return Te(t,e,!0,!0),t})(),Mi=Ei,Oi=e=>(()=>{var t=Cr();return Te(t,e,!0,!0),t})(),Ci=Oi,Ai=e=>{const[t,n]=j(e.height),[r,o]=G(e,["children","height","maxHeight","expanded"]);let i;const s=T(()=>e.height),l=T(()=>e.maxHeight),d=T(()=>e.expanded);return P(Re([s,l,d],([c,a,u])=>{n(u?a:c)})),P(Re(d,c=>{const a="animate-fade-in",u="animate-fade-out";c?(i?.classList.add(a),i?.classList.remove(u)):(i?.classList.add(u),i?.classList.remove(a))})),(()=>{var c=Ar();return Lt(a=>i=a,c),Te(c,R({get style(){return{height:t()?.toString(),"max-height":e.maxHeight.toString()}}},o),!1,!0),N(c,()=>r.children),c})()},Si=e=>{const{t}=We();return(()=>{var n=Sr(),r=n.firstChild,o=r.firstChild,i=r.nextSibling,s=i.firstChild,l=s.nextSibling,d=l.firstChild,c=d.firstChild,a=l.nextSibling,u=a.firstChild,h=u.nextSibling,g=h.firstChild,f=a.nextSibling,O=f.firstChild,E=O.nextSibling,w=E.firstChild,C=f.nextSibling,y=C.nextSibling,v=y.nextSibling,M=v.firstChild,b=M.nextSibling;return N(s,()=>t("Have you installed")+` ${e.wallet.name}?`),N(d,()=>t("Install"),c),N(d,()=>e.wallet.name,null),N(l,m(Nn,{}),null),N(u,()=>t("On mobile:")),N(g,()=>t("You should open the app instead")),N(O,()=>t("On desktop:")),N(w,()=>t("Install and refresh the page")),M.$$click=()=>e.onGoOnboarding(),N(M,()=>t("I don't have a wallet")),b.$$click=()=>e.onClose(),N(b,()=>"← "+t("Go back")),de(()=>ue(o,"src",e.wallet.icon)),n})()},Ni=e=>{const{t,walletlistExplanation:n,walletAttachments:r}=We(),[o,i]=j(!1),[s,l]=j(!1),d=T(()=>e.list),c=T(()=>d().highlight.length+d().others.length===0);async function a(g){console.log("onWalletClick: ",{wallet:g}),pn({wallet:g})}let u;const h=T(()=>d().others.length);return P(Re(h,g=>{const f="mb-8";g>6?u?.classList.add(f):u?.classList.remove(f)})),P(()=>{c()&&(console.log("no wallets, showing onboarding..."),i(!0))}),P(()=>{console.log("wallets in list: ",{list:d()})}),m(Pe,{get children(){return[m(B,{get when(){return o()},get children(){return m(vi,{showBack:!c,onClose:()=>i(!1)})}}),m(B,{get when(){return s()},children:g=>m(Si,{get wallet(){return g()},onClose:()=>l(!1),onGoOnboarding:()=>{st(()=>{i(!0),l(!1)})}})}),m(B,{get when(){return!o()},get children(){return[(()=>{var g=Lr(),f=g.firstChild,O=f.nextSibling,E=O.nextSibling,w=E.firstChild,C=w.firstChild;return N(f,m(Pe,{get children(){return[m(B,{get when(){return d().highlightedBy==="PreviouslyConnected"},get children(){return t("Recently used")}}),m(B,{get when(){return d().highlightedBy==="TopAndRecommended"},get children(){return t("Recommended wallets")}})]}})),N(O,m(Rt,{get each(){return d().highlight},children:y=>{const v=T(()=>y.wallet.name===wn?t("Mobile"):y.wallet.name),M=r?r[v()]?.attachment:null;return m(Tt,{get component(){return y.type!=="ios-webview"?"button":"a"},type:"button",class:"py-4 px-4 border border-white/10 rounded-lg flex items-center cursor-pointer flex-1 hover:backdrop-blur-xl transition-all hover:shadow-2xl hover:bg-white/10 bg-jupiter-bg",get onClick(){return y.type!=="ios-webview"?()=>a(y.wallet.name):void 0},get href(){return T(()=>y.type==="ios-webview")()?y.wallet.deepUrl?.(window.location):void 0},get children(){return[m(_n,{get name(){return y.wallet.name},get icon(){return y.wallet.icon},get width(){return tt()?24:30},get height(){return tt()?24:30}}),(()=>{var b=xr();return N(b,v),b})(),m(X,{when:M,children:b=>(()=>{var _=dn();return N(_,b),_})()})]}})}})),N(g,m(Pe,{get children(){return[m(B,{get when(){return n&&d().others.length===0},get children(){var y=Nr(),v=y.firstChild,M=v.firstChild;return N(M,()=>t("Can't find your wallet?")),de(()=>ue(v,"href",n?.href)),y}}),m(B,{get when(){return d().others.length>0},get children(){return[(()=>{var y=_r(),v=y.firstChild,M=v.firstChild,b=v.nextSibling;return y.$$click=()=>e.onToggle(),N(M,()=>t("More wallets")),N(b,m(X,{get when(){return e.isOpen},get fallback(){return m(Ci,{})},get children(){return m(Mi,{})}})),y})(),m(Ai,{height:0,maxHeight:"auto",get expanded(){return e.isOpen},get children(){var y=Tr(),v=y.firstChild;return N(v,m(Rt,{get each(){return d().others},children:M=>(()=>{var b=jr();return N(b,m(bi,{handleClick:()=>M.type!=="ios-webview"?a(M.wallet.name):void 0,info:M})),b})()})),N(y,m(X,{get when(){return d().highlightedBy!=="Onboarding"&&n},get children(){var M=Ir(),b=M.firstChild,_=b.firstChild;return Lt(z=>u=z,M),N(_,()=>t("Can't find your wallet?")),de(()=>ue(b,"href",n?.href)),M}}),null),y}})]}})]}}),E),w.$$click=()=>i(!0),N(C,()=>t("I don't have a wallet")),g})(),m(X,{get when(){return T(()=>!!e.isOpen)()&&d().others.length>6},get children(){return Dr()}})]}})]}})};Me.Installed+"",Me.Loadable+"",Me.NotDetected+"",Me.Unsupported+"";var _i=["Phantom","Solflare","Backpack"],ht=e=>(t,n)=>{if(!e)return 0;const r=e.indexOf(t.wallet.name),o=e.indexOf(n.wallet.name);return r===-1&&o===-1?0:r>=0?o===-1?-1:r-o:o>=0?r===-1?1:o-r:0},Ii=e=>{const{getPreviouslyConnected:t,walletPrecedence:n,isModalOpen:r,setIsModalOpen:o,wallets:i}=We(),[s,l]=j(e.isExpanded??!0),d=T(()=>{const a=i();return a?a.reduce((u,h)=>{const f=h.wallet.name;return t().indexOf(f)>=0?(u.previouslyConnected.push(h),u):_i.indexOf(f)>=0?(u.top3.push(h),u):(u.loadable.push(h),u)},{previouslyConnected:[],installed:[],top3:[],loadable:[],notDetected:[]}):{previouslyConnected:[],installed:[],top3:[],loadable:[],notDetected:[]}}),c=T(()=>{const a=d();if(a.previouslyConnected.length>0){const{previouslyConnected:f,...O}=a,E=f.slice(0,3);let w=Object.values(O).flat().sort(ht(n||[]));return w.unshift(...f.slice(3,f.length)),w=w.filter(Boolean),{highlightedBy:"PreviouslyConnected",highlight:E,others:w}}if(a.installed.length>0){const{installed:f,top3:O,...E}=a,w=[...f.slice(0,3),...O.filter(Boolean)].filter(Boolean),C=Object.values(E).flat().sort(ht(n||[]));return C.unshift(...f.slice(3,f.length)),{highlightedBy:"TopAndRecommended",highlight:w,others:C}}if(a.loadable.length===0&&a.top3.length===0&&a.installed.length===0)return{highlightedBy:"Onboarding",highlight:[],others:[]};const{top3:u,...h}=a,g=Object.values(h).flat().sort(ht(n||[]));return{highlightedBy:"TopWallet",highlight:u,others:g}});return m(ge,{get open(){return r()},onOpenChange:a=>o(a),get children(){return m(ge.Portal,{get children(){return[m(ge.Overlay,{class:"fixed inset-0 z-50 bg-black/20 backdrop-blur-sm"}),(()=>{var a=zr();return N(a,m(ge.Content,{class:"max-w-md w-full relative flex flex-col overflow-hidden rounded-xl max-h-[90vh] lg:max-h-[576px] transition-height duration-500 ease-in-out text-white bg-jupiter-bg",get children(){return[(()=>{var u=Pr(),h=u.firstChild,g=h.firstChild,f=g.nextSibling;return N(g,m(ge.Label,{as:"span",class:"text-sm font-semibold h-min",children:"Connect Wallet"})),N(f,m(ge.Description,{as:"span",class:"text-xs text-white/50 h-min",children:"You need to connect a Solana wallet."})),N(u,m(ge.Close,{class:"absolute top-4 right-4 bg-jupiter-bg",get children(){return m(hi,{width:12,height:12})}}),null),u})(),m(Ni,{get list(){return c()},onToggle:()=>l(u=>!u),get isOpen(){return s()}})]}})),a})()]}})}})},Ti=Ii,Vt={PREVIOUSLY_CONNECTED:"unified:previously-connected"},Li="MWA_NOT_FOUND_ERROR",St={UPDATE_MODAL:"unified:update-modal"};function gt(e){const t=new CustomEvent(St.UPDATE_MODAL,{detail:{open:e}});window.dispatchEvent(t)}var[Di,xi]=gn(e=>{const{t,locale:n,setLocale:r}=yn(),[o,i]=j(),[s,l]=j(),[d,c]=j(!1),a=T(()=>s()?.info?.name),u=T(()=>{const v=s();if(v)return v.type==="custom"?v.info.publicKey?.toString()??void 0:v.info?.pubKey}),[h,g]=j(!1);function f(){try{const v=localStorage.getItem(Vt.PREVIOUSLY_CONNECTED);return v?JSON.parse(v):[]}catch(v){return typeof window<"u"&&console.error(v),[]}}function O(v){localStorage.setItem(Vt.PREVIOUSLY_CONNECTED,JSON.stringify(v))}function E(v){const M=v;console.log("wallet changed event: ",{new_wallet:M.detail.wallet}),st(()=>{g(!1),l(M.detail.wallet)})}function w(v){c(v.detail.connecting)}function C(v){const M=v;console.log({updateModalEvent:M}),g(M.detail.open)}function y(v){i(v.detail.wallets)}return It(()=>{console.log("UnifiedWalletProvider: onMount!"),window.addEventListener(Y.WALLET_CHANGED,E),window.addEventListener(Y.CONNECTING,w),window.addEventListener(St.UPDATE_MODAL,C),window.addEventListener(Y.AVAILABLE_WALLETS_CHANGED,y),U(()=>{window.removeEventListener(Y.WALLET_CHANGED,E),window.removeEventListener(Y.CONNECTING,w),window.removeEventListener(St.UPDATE_MODAL,C),window.removeEventListener(Y.AVAILABLE_WALLETS_CHANGED,y)})}),P(()=>{console.log("unified modal wallet store changed: ",{wallets:o()})}),P(Re([s,u],([v,M])=>{if(!M||!v)return;const _=[...f()];v.info?.name&&_.unshift(v.info.name);const z=new Set(_);O([...z])})),{t,locale:n,setLocale:r,theme:e.theme,getPreviouslyConnected:f,setPreviouslyConnected:O,name:a,publicKey:u,account:s,connecting:d,wallets:o,isModalOpen:h,setIsModalOpen:g,walletAttachments:e.walletAttachments,walletlistExplanation:e.walletlistExplanation,walletPrecedence:e.walletPrecedence,walletModalAttachments:e.walletModalAttachments}}),ji=e=>m(qr,{get locale(){return e.locale??Jr},get children(){return m(Di,{get children(){return m(Ti,{})}})}}),We=()=>{const e=xi();if(!e)throw new Error("useUnifiedWallet must be used within a UnifiedWalletProvider");return e};function Pi(e,t=4){return`${e.slice(0,t)}...${e.slice(-t)}`}var zi=e=>{const[t,n]=j(),[r,o]=j(!1),i=T(()=>t()?.info?.name),s=T(()=>{const a=t();if(a)return a.type==="custom"?a.info.publicKey?.toString()??void 0:a.info?.pubKey});async function l(){const a=i();if(console.log("handleConnect: ",{walletName:a}),!a){console.log("handleConnect: dispatching modal open!"),gt(!0);return}try{pn({wallet:a})}catch(u){u instanceof Error&&u.message===Li?gt(!0):console.error("unknown error trying to connect to wallet: ",{err:u,walletName:a})}finally{gt(!1)}}function d(a){n(a.detail.wallet)}function c(a){o(a.detail.connecting)}return It(()=>{window.addEventListener(Y.WALLET_CHANGED,d),window.addEventListener(Y.CONNECTING,c),U(()=>{window.removeEventListener(Y.WALLET_CHANGED,d),window.removeEventListener(Y.CONNECTING,c)})}),m(Pe,{get children(){return[m(B,{get when(){return T(()=>!!i())()&&s()},get children(){var a=Rr(),u=a.firstChild,h=u.firstChild,g=u.nextSibling;return a.$$click=Zr,u.style.setProperty("position","relative"),N(g,()=>Pi(`${s()}`)),de(()=>ue(h,"src",t()?.info?.icon)),a}}),m(B,{get when(){return e.overrideContent},get children(){var a=dn();return a.$$click=l,N(a,()=>e.overrideContent),de(()=>zt(a,e.buttonClassName)),a}}),m(B,{get when(){return!e.overrideContent},get children(){var a=Wr();return a.$$click=l,N(a,m(X,{get when(){return!r()},get fallback(){return $r()},get children(){return[kr(),Ur()]}})),de(()=>zt(a,e.buttonClassName)),a}})]}})};function Ri(e){return Object.keys(e).reduce((n,r)=>{const o=e[r];return n[r]=Object.assign({},o),Tn(o.value)&&!Fi(o.value)&&!Array.isArray(o.value)&&(n[r].value=Object.assign({},o.value)),Array.isArray(o.value)&&(n[r].value=o.value.slice(0)),n},{})}function ki(e){return e?Object.keys(e).reduce((n,r)=>{const o=e[r];return n[r]=Tn(o)&&"value"in o?o:{value:o},n[r].attribute||(n[r].attribute=$i(r)),n[r].parse="parse"in n[r]?n[r].parse:typeof n[r].value!="string",n},{}):{}}function Ui(e){return Object.keys(e).reduce((n,r)=>(n[r]=e[r].value,n),{})}function Wi(e,t){const n=Ri(t);return Object.keys(t).forEach(o=>{const i=n[o],s=e.getAttribute(i.attribute),l=e[o];s&&(i.value=i.parse?In(s):s),l!=null&&(i.value=Array.isArray(l)?l.slice(0):l),i.reflect&&Zt(e,i.attribute,i.value,!!i.parse),Object.defineProperty(e,o,{get(){return i.value},set(d){const c=i.value;i.value=d,i.reflect&&Zt(this,i.attribute,i.value,!!i.parse);for(let a=0,u=this.__propertyChangedCallbacks.length;a<u;a++)this.__propertyChangedCallbacks[a](o,d,c)},enumerable:!0,configurable:!0})}),n}function In(e){if(e)try{return JSON.parse(e)}catch{return e}}function Zt(e,t,n,r){if(n==null||n===!1)return e.removeAttribute(t);let o=r?JSON.stringify(n):n;e.__updating[t]=!0,o==="true"&&(o=""),e.setAttribute(t,o),Promise.resolve().then(()=>delete e.__updating[t])}function $i(e){return e.replace(/\.?([A-Z]+)/g,(t,n)=>"-"+n.toLowerCase()).replace("_","-").replace(/^-/,"")}function Tn(e){return e!=null&&(typeof e=="object"||typeof e=="function")}function Fi(e){return Object.prototype.toString.call(e)==="[object Function]"}function Bi(e){return typeof e=="function"&&e.toString().indexOf("class")===0}var ze;function Jt(){Object.defineProperty(ze,"renderRoot",{value:ze})}function Yi(e,t){const n=Object.keys(t);return class extends e{static get observedAttributes(){return n.map(o=>t[o].attribute)}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(this.__initialized)return;this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=Wi(this,t);const o=Ui(this.props),i=this.Component,s=ze;try{ze=this,this.__initialized=!0,Bi(i)?new i(o,{element:this}):i(o,{element:this})}finally{ze=s}}async disconnectedCallback(){if(await Promise.resolve(),this.isConnected)return;this.__propertyChangedCallbacks.length=0;let o=null;for(;o=this.__releaseCallbacks.pop();)o(this);delete this.__initialized,this.__released=!0}attributeChangedCallback(o,i,s){if(this.__initialized&&!this.__updating[o]&&(o=this.lookupProp(o),o in t)){if(s==null&&!this[o])return;this[o]=t[o].parse?In(s):s}}lookupProp(o){if(t)return n.find(i=>o===i||o===t[i].attribute)}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(o){this.__releaseCallbacks.push(o)}addPropertyChangedCallback(o){this.__propertyChangedCallbacks.push(o)}}}function Ki(e,t={},n={}){const{BaseElement:r=HTMLElement,extension:o,customElements:i=window.customElements}=n;return s=>{if(!e)throw new Error("tag is required to register a Component");let l=i.get(e);return l?(l.prototype.Component=s,l):(l=Yi(r,ki(t)),l.prototype.Component=s,l.prototype.registeredTag=e,i.define(e,l,o),l)}}function Qi(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const[o,i]=j(e[t[r]]);Object.defineProperty(n,t[r],{get:o,set(s){i(()=>s)}})}return n}function Hi(e){if(e.assignedSlot&&e.assignedSlot._$owner)return e.assignedSlot._$owner;let t=e.parentNode;for(;t&&!t._$owner&&!(t.assignedSlot&&t.assignedSlot._$owner);)t=t.parentNode;return t&&t.assignedSlot?t.assignedSlot._$owner:e._$owner}function Gi(e){return(t,n)=>{const{element:r}=n;return Zn(o=>{const i=Qi(t);r.addPropertyChangedCallback((l,d)=>i[l]=d),r.addReleaseCallback(()=>{r.renderRoot.textContent="",o()});const s=e(i,n);return N(r.renderRoot,s)},Hi(r))}}function Xt(e,t,n){return arguments.length===2&&(n=t,t={}),Ki(e,t)(Gi(n))}function Ra(){Xt("unified-wallet-modal",(e,{})=>(Jt(),m(ji,e))),Xt("unified-wallet-modal-button",(e,{})=>(Jt(),m(zi,e)))}Gn(["click"]);const nt=Symbol("store-raw"),Ae=Symbol("store-node"),re=Symbol("store-has"),Ln=Symbol("store-self");function Dn(e){let t=e[pe];if(!t&&(Object.defineProperty(e,pe,{value:t=new Proxy(e,Ji)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let o=0,i=n.length;o<i;o++){const s=n[o];r[s].get&&Object.defineProperty(e,s,{enumerable:r[s].enumerable,get:r[s].get.bind(t)})}}return t}function q(e){let t;return e!=null&&typeof e=="object"&&(e[pe]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function fe(e,t=new Set){let n,r,o,i;if(n=e!=null&&e[nt])return n;if(!q(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let s=0,l=e.length;s<l;s++)o=e[s],(r=fe(o,t))!==o&&(e[s]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const s=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let d=0,c=s.length;d<c;d++)i=s[d],!l[i].get&&(o=e[i],(r=fe(o,t))!==o&&(e[i]=r))}return e}function rt(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function ke(e,t,n){if(e[t])return e[t];const[r,o]=j(n,{equals:!1,internal:!0});return r.$=o,e[t]=r}function Vi(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===pe||t===Ae||(delete n.value,delete n.writable,n.get=()=>e[pe][t]),n}function xn(e){Mt()&&ke(rt(e,Ae),Ln)()}function Zi(e){return xn(e),Reflect.ownKeys(e)}const Ji={get(e,t,n){if(t===nt)return e;if(t===pe)return n;if(t===kt)return xn(e),n;const r=rt(e,Ae),o=r[t];let i=o?o():e[t];if(t===Ae||t===re||t==="__proto__")return i;if(!o){const s=Object.getOwnPropertyDescriptor(e,t);Mt()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(s&&s.get)&&(i=ke(r,t,i)())}return q(i)?Dn(i):i},has(e,t){return t===nt||t===pe||t===kt||t===Ae||t===re||t==="__proto__"?!0:(Mt()&&ke(rt(e,re),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Zi,getOwnPropertyDescriptor:Vi};function F(e,t,n,r=!1){if(!r&&e[t]===n)return;const o=e[t],i=e.length;n===void 0?(delete e[t],e[re]&&e[re][t]&&o!==void 0&&e[re][t].$()):(e[t]=n,e[re]&&e[re][t]&&o===void 0&&e[re][t].$());let s=rt(e,Ae),l;if((l=ke(s,t,o))&&l.$(()=>n),Array.isArray(e)&&e.length!==i){for(let d=e.length;d<i;d++)(l=s[d])&&l.$();(l=ke(s,"length",i))&&l.$(e.length)}(l=s[Ln])&&l.$()}function jn(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];F(e,o,t[o])}}function Xi(e,t){if(typeof t=="function"&&(t=t(e)),t=fe(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const o=t[n];e[n]!==o&&F(e,n,o)}F(e,"length",r)}else jn(e,t)}function je(e,t,n=[]){let r,o=e;if(t.length>1){r=t.shift();const s=typeof r,l=Array.isArray(e);if(Array.isArray(r)){for(let d=0;d<r.length;d++)je(e,[r[d]].concat(t),n);return}else if(l&&s==="function"){for(let d=0;d<e.length;d++)r(e[d],d)&&je(e,[d].concat(t),n);return}else if(l&&s==="object"){const{from:d=0,to:c=e.length-1,by:a=1}=r;for(let u=d;u<=c;u+=a)je(e,[u].concat(t),n);return}else if(t.length>1){je(e[r],t,[r].concat(n));return}o=e[r],n=[r].concat(n)}let i=t[0];typeof i=="function"&&(i=i(o,n),i===o)||r===void 0&&i==null||(i=fe(i),r===void 0||q(o)&&q(i)&&!Array.isArray(i)?jn(o,i):F(e,r,i))}function qi(...[e,t]){const n=fe(e||{}),r=Array.isArray(n),o=Dn(n);function i(...s){st(()=>{r&&s.length===1?Xi(n,s[0]):je(n,s)})}return[o,i]}const Nt=Symbol("store-root");function me(e,t,n,r,o){const i=t[n];if(e===i)return;const s=Array.isArray(e);if(n!==Nt&&(!q(e)||!q(i)||s!==Array.isArray(i)||o&&e[o]!==i[o])){F(t,n,e);return}if(s){if(e.length&&i.length&&(!r||o&&e[0]&&e[0][o]!=null)){let c,a,u,h,g,f,O,E;for(u=0,h=Math.min(i.length,e.length);u<h&&(i[u]===e[u]||o&&i[u]&&e[u]&&i[u][o]===e[u][o]);u++)me(e[u],i,u,r,o);const w=new Array(e.length),C=new Map;for(h=i.length-1,g=e.length-1;h>=u&&g>=u&&(i[h]===e[g]||o&&i[u]&&e[u]&&i[h][o]===e[g][o]);h--,g--)w[g]=i[h];if(u>g||u>h){for(a=u;a<=g;a++)F(i,a,e[a]);for(;a<e.length;a++)F(i,a,w[a]),me(e[a],i,a,r,o);i.length>e.length&&F(i,"length",e.length);return}for(O=new Array(g+1),a=g;a>=u;a--)f=e[a],E=o&&f?f[o]:f,c=C.get(E),O[a]=c===void 0?-1:c,C.set(E,a);for(c=u;c<=h;c++)f=i[c],E=o&&f?f[o]:f,a=C.get(E),a!==void 0&&a!==-1&&(w[a]=i[c],a=O[a],C.set(E,a));for(a=u;a<e.length;a++)a in w?(F(i,a,w[a]),me(e[a],i,a,r,o)):F(i,a,e[a])}else for(let c=0,a=e.length;c<a;c++)me(e[c],i,c,r,o);i.length>e.length&&F(i,"length",e.length);return}const l=Object.keys(e);for(let c=0,a=l.length;c<a;c++)me(e[l[c]],i,l[c],r,o);const d=Object.keys(i);for(let c=0,a=d.length;c<a;c++)e[d[c]]===void 0&&F(i,d[c],void 0)}function es(e,t={}){const{merge:n,key:r="id"}=t,o=fe(e);return i=>{if(!q(i)||!q(o))return o;const s=me(o,{[Nt]:i},Nt,n,r);return s===void 0?i:s}}const ot=new WeakMap,Pn={get(e,t){if(t===nt)return e;const n=e[t];let r;return q(n)?ot.get(n)||(ot.set(n,r=new Proxy(n,Pn)),r):n},set(e,t,n){return F(e,t,fe(n)),!0},deleteProperty(e,t){return F(e,t,void 0,!0),!0}};function ka(e){return t=>{if(q(t)){let n;(n=ot.get(t))||ot.set(t,n=new Proxy(t,Pn)),e(n)}return t}}function le(e){let t=e.get(),[n,r]=ts(t),o=e.subscribe(r);return U(()=>o()),n}function ts(e){let[t,n]=qi({value:e});return[()=>t.value,r=>{let o=fe(t.value);return typeof r=="function"&&(r=r(o)),n("value",es(r)),t.value}]}function ns(e){return Jn in e.features&&Xn in e.features&&(Ot in e.features||xe in e.features)}const zn="Mobile Wallet Adapter",rs=[{id:"Phantom",name:"Phantom",url:"https://phantom.app/",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",deepUrl:e=>{const t=encodeURIComponent(e.href),n=encodeURIComponent(e.origin);return`https://phantom.app/ul/browse/${t}?ref=${n}`}},{id:"Solflare",name:"Solflare",url:"https://solflare.com/",icon:"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",deepUrl:e=>{const t=encodeURIComponent(e.href),n=encodeURIComponent(e.origin);return`https://solflare.com/ul/v1/browse/${t}?ref=${n}`}},{id:"Backpack",name:"Backpack",url:"https://www.backpack.app/",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbvSURBVHgB7Z1dUtxGEMf/LZH3fU0V4PUJQg4QVj5BnBOAT2BzAsMJAicwPoHJCRDrAxifgLVxVV73ObDqdEtsjKn4C8+0NDv9e7AxprRC85uvnp4RYYW5qKpxCVTcYKsgfiDfGjMwIsZIvh7d/lkmzAiYy5fzhultyZhdlagf1vU5VhjCiiGFXq01zYSJdqWgx/hB5AHN5I/6iuilyFBjxVgZAdqCZ34ORoVIqAzSOhxsvq6PsSIkL4A281LwL2IW/F1UhLKgRz/X9QyJUyBhuuae31gWviLjiPF1wxeX29vPkTjJtgAftrd3GHSMnmHw4eZ0uodESVKAoRT+kpQlSE6Ats/XZv/ONK5vZHC49+B1fYjESG4MUDKfYmCFr0ic4fmHqtpCYiQlgA66QsztIzFi5j+RGMl0AXebfgn0aOTuvGG8owIarZsXOj3ronlRuEYnn84CJLo4Lgi/QL/H/LHmy/RwI6GA0RoS4acFHi8kGieFXS/QhmijFfQXmH3uPy5lSkoLbIkYlfyzhuM4juM4juM4juMMj6TzATQ4JH9tlRqFk8BM2aV9RWHB9K5kzK/KLui0KqliSQmgBa4BIS54cpMD0OeawFye3jk19JdKkWq62OAFkEIfrTXNUxBV1okf38Ot3MGjlFqHwQrQZvQ22Cfw7xjg6t8XkZaBGzpKIXdwcAJojZeCP5SC30HipJBEOigBZLn3qdzSPlKr8V9hyEmkgxCgj8zefuD9jen0AAOidwE0i6ZhfjXgRI+gDK016DUjqE3ubPhNLoWvaDLJouHToaSP9SbA0DJ7LekyiviNPgP0TC9dQM6FfxeZ7eyuT6cv0RPmAmjTx11uXx/MiegEDd425cfcwWV+H4O3+uiO+pTAVIA2uMN8av6QiWr5TQ++JVlTc/tEiF3jOMScZGC43kME0VSA95PJhWXhM+Gt1Phn98nStZa1r9mB2SDQPqefjhayfnDfFG2J5882z84eynVM5u3thlONhRhj0gLc5PRfwAw62JjW+wjE5Xa1L0VkshO4kXt/EPDev4ZJCyBRvlcwggjHG4EfYHc9OoIBBWy3mEUX4H1V7Ur7ZvILaT8qy7FRduleF9jXc4RggOUWs/gtANs0nYquvMXaMaTXlQHlE1ggayLvf5OKY0DUMYDWfmpsBjZa+9enOmiLy+VkcmqxaNW2ZgX9GnsLXNQWoGj4KYzQ2g8LyG5WUDR4hshEE6CN+AFmg5lFiRMYcI0uKRQGyIAwegWKJkBjYO8tzq12C7efQ7CK2I00MomIxOsCiCcwQhaW3sEQ6W7sPi/yIDqKAHp8m2nIF7COoc9ghQw4NU8SkYgiQCmLKXCCUSziPc84XYBh83/DSiWR3qUo2tT4ONdGYDTub73cSzD/PNt0rojdQHAByoXxw0E7XfoFhsjnRduD+DnWIkkXXACJl1cwRoMmf3cbRaOjLRzDXnKZVj9GBIILUJBtbVzyj9HAU19AgR6I9VzDtwCgMXpAo2Yxp0v/Ybi49ennJtIFEPMY/TCKHTvv+aTSUQzBgwrQ92YHbQVi3UN3GAVZhrf/jzECE1SAq/7n4yOJ074KPSBcJoii598vxgwrqAByg70HZJZbr0JJ0G5XZz5Z1e1rYccA5TAicqEk0O5ECl/3LvYys7mLTLHHCEzS7wz6Esv3+nyYTF58rwha63XAl8PG1aCnhesWq6EdOcKM3WvmXRHh+Gvv/tNVTJlJPC4a3RVEK72+sCSZ4+J/FBVhTUS43J7gJqFjrnl33A3sxtCa3nAWhX6bbAT4hJugCsNZ2TGA8224AJnjAmSOC5A5LkDmuACZ4wJkjguQOS5A5rgAmeMCZI4LkDkuQOa4AJnjAmSOC5A5LkDmuACZ4wJkjguQOWEFYJvz85xwBBWgKM1P68oKKsI/36ACdC9nsDlWPTsIJ5t1Hfw01OBjgI1p/YwLegIibw0CwESz9gUYZ2d/wHEcx3Ecx3Ecx3Ecx3HuS5QjfdrXxTHv3JzEkd2xKwHR9xPNuKGjzdf1MSIQXAA9XUsuuw8nKPpK3PWzs+AvrgwqgP1LojOjoEf3fRv6Zy+JgBSLOGfaOx1NE/6o+rCrgeT9fWp4SljmuACZ4wJkjguQOS5A5rgAmeMCZI4LkDkuQOa4AJnjAmSOC5A5LkDmuACZ4wJkjguQOS5A5rgAmeMCZI4LkDkuQOa4AJnj5wRmTlABqHQBohKhggUVYAEEP8fO+UiMgziDCvCwrnU3aw0nOATMQu8LVIIPAq+JdAerdwWBaQ/fjEBwAaQVmMnN7sEJCB3EqP3tlRGJy6qqmPkFMcZw7sucmfZiHQ6hRBNgSXdaCHbA7KeFfBvz9pxlxtl1gcN2XBWRfwHK959XFRG6AgAAAABJRU5ErkJggg==",deepUrl:e=>`https://backpack.app/ul/v1/browse/${encodeURIComponent(e.href)}`},{id:"Coinbase Wallet",name:"Coinbase Wallet",url:"https://www.coinbase.com/wallet",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8Y2lyY2xlIGN4PSI1MTIiIGN5PSI1MTIiIHI9IjUxMiIgZmlsbD0iIzAwNTJGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1MiA1MTJDMTUyIDcxMC44MjMgMzEzLjE3NyA4NzIgNTEyIDg3MkM3MTAuODIzIDg3MiA4NzIgNzEwLjgyMyA4NzIgNTEyQzg3MiAzMTMuMTc3IDcxMC44MjMgMTUyIDUxMiAxNTJDMzEzLjE3NyAxNTIgMTUyIDMxMy4xNzcgMTUyIDUxMlpNNDIwIDM5NkM0MDYuNzQ1IDM5NiAzOTYgNDA2Ljc0NSAzOTYgNDIwVjYwNEMzOTYgNjE3LjI1NSA0MDYuNzQ1IDYyOCA0MjAgNjI4SDYwNEM2MTcuMjU1IDYyOCA2MjggNjE3LjI1NSA2MjggNjA0VjQyMEM2MjggNDA2Ljc0NSA2MTcuMjU1IDM5NiA2MDQgMzk2SDQyMFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",deepUrl:e=>`cbwallet://dapp?url=${encodeURIComponent(e.href)}`},{id:"OKX Wallet",name:"OKX Wallet",url:"https://www.okx.com/web3",icon:"https://station.jup.ag/img/wallet/glow.png",deepUrl:e=>`okx://wallet/dapp/url?dappUrl=${encodeURIComponent(e.href)}`}];function os(e){return/android/i.test(e)}function is(e){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)}function Rn(e){return e.includes("iphone")||e.includes("ipad")}function kn(e){return e.includes("safari")}function ss(){if(typeof window>"u"||!navigator)return!1;const e=navigator.userAgent.toLowerCase();return Rn(e)&&!kn(e)}function as(){if(typeof window>"u"||!navigator)return!1;const e=navigator.userAgent.toLowerCase();return Rn(e)&&kn(e)}function Un(e){return!(e.features||e.chains||!e.accounts)}function ls(e){return Un(e)&&e.accounts.length>0}function cs(e){return Un(e)&&e.accounts.length===0}function us(e){console.log("dispatchConnect: connecting to: ",{payload:e});const t=new CustomEvent(oe.CONNECT,{detail:e});window.dispatchEvent(t)}function wt(e){const t=new CustomEvent(oe.CONNECTING,{detail:e});window.dispatchEvent(t)}function ds(){console.log("dispatchDisconnect");const e=new CustomEvent(oe.DISCONNECT);window.dispatchEvent(e)}function fs(e){console.log("dispatchWalletChanged: wallet changed: ",{payload:e});const t=new CustomEvent(oe.WALLET_CHANGED,{detail:e});window.dispatchEvent(t)}function hs(e){const t=new CustomEvent(oe.AVAILABLE_WALLETS_CHANGED,{detail:e});window.dispatchEvent(t)}const oe={CONNECT:"unified:connect",DISCONNECT:"unified:disconnect",CONNECTING:"unified:connecting",WALLET_CHANGED:"unified:wallet-changed",AVAILABLE_WALLETS_CHANGED:"unified:available-wallets-changed"};let H=[],ce=0;const Ke=4;let Je=0,be=e=>{let t=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(r){return n.lc=t.push(r),()=>{for(let i=ce+Ke;i<H.length;)H[i]===r?H.splice(i,Ke):i+=Ke;let o=t.indexOf(r);~o&&(t.splice(o,1),--n.lc||n.off())}},notify(r,o){Je++;let i=!H.length;for(let s of t)H.push(s,n.value,r,o);if(i){for(ce=0;ce<H.length;ce+=Ke)H[ce](H[ce+1],H[ce+2],H[ce+3]);H.length=0}},off(){},set(r){let o=n.value;o!==r&&(n.value=r,n.notify(o))},subscribe(r){let o=n.listen(r);return r(n.value),o},value:e};return n};const gs=2,ws=5,Qe=6,He=10;let Wn=(e,t,n,r)=>(e.events=e.events||{},e.events[n+He]||(e.events[n+He]=r(o=>{e.events[n].reduceRight((i,s)=>(s(i),i),{shared:{},...o})})),e.events[n]=e.events[n]||[],e.events[n].push(t),()=>{let o=e.events[n],i=o.indexOf(t);o.splice(i,1),o.length||(delete e.events[n],e.events[n+He](),delete e.events[n+He])}),Ge=(e,t)=>Wn(e,t,gs,n=>{let r=e.set,o=e.setKey;return e.setKey&&(e.setKey=(i,s)=>{let l;if(n({abort:()=>{l=!0},changed:i,newValue:{...e.value,[i]:s}}),!l)return o(i,s)}),e.set=i=>{let s;if(n({abort:()=>{s=!0},newValue:i}),!s)return r(i)},()=>{e.set=r,e.setKey=o}}),ps=1e3,vs=(e,t)=>Wn(e,r=>{let o=t(r);o&&e.events[Qe].push(o)},ws,r=>{let o=e.listen;e.listen=(...s)=>(!e.lc&&!e.active&&(e.active=!0,r()),o(...s));let i=e.off;return e.events[Qe]=[],e.off=()=>{i(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let s of e.events[Qe])s();e.events[Qe]=[]}},ps)},()=>{e.listen=o,e.off=i}}),ys=(e,t,n)=>{Array.isArray(e)||(e=[e]);let r,o,i=()=>{if(o===Je)return;o=Je;let c=e.map(a=>a.get());if(!r||c.some((a,u)=>a!==r[u])){r=c;let a=t(...c);a&&a.then&&a.t?a.then(u=>{r===c&&s.set(u)}):(s.set(a),o=Je)}},s=be(void 0),l=s.get;s.get=()=>(i(),l());let d=i;return vs(s,()=>{let c=e.map(a=>a.listen(d));return i(),()=>{for(let a of c)a()}}),s},pt=(e,t)=>ys(e,t);var ms=function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},bs=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Xe;let Le;const qe=new Set,Oe={};function qt(){if(Le||(Le=Object.freeze({register:en,get:Es,on:Ms}),typeof window>"u"))return Le;const e=Object.freeze({register:en});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new Os(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return Le}function en(...e){return e=e.filter(t=>!qe.has(t)),e.length?(e.forEach(t=>qe.add(t)),Oe.register?.forEach(t=>tn(()=>t(...e))),function(){e.forEach(n=>qe.delete(n)),Oe.unregister?.forEach(n=>tn(()=>n(...e)))}):()=>{}}function Es(){return[...qe]}function Ms(e,t){return Oe[e]?.push(t)||(Oe[e]=[t]),function(){Oe[e]=Oe[e]?.filter(r=>t!==r)}}function tn(e){try{e()}catch(t){console.error(t)}}class Os extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Xe.set(this,void 0),ms(this,Xe,t,"f")}get detail(){return bs(this,Xe,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Xe=new WeakMap;/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Cs(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function As(...e){const t=i=>i,n=(i,s)=>l=>i(s(l)),r=e.map(i=>i.encode).reduceRight(n,t),o=e.map(i=>i.decode).reduce(n,t);return{encode:r,decode:o}}function Ss(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function Ns(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function nn(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach(s=>{if(s<0||s>=t)throw new Error(`Wrong integer: ${s}`)});;){let s=0,l=!0;for(let d=r;d<i.length;d++){const c=i[d],a=t*s+c;if(!Number.isSafeInteger(a)||t*s/t!==s||a-c!==t*s)throw new Error("convertRadix: carry overflow");s=a%n;const u=Math.floor(a/n);if(i[d]=u,!Number.isSafeInteger(u)||u*n+s!==a)throw new Error("convertRadix: carry overflow");if(l)u?l=!1:r=d;else continue}if(o.push(s),l)break}for(let s=0;s<e.length-1&&e[s]===0;s++)o.push(0);return o.reverse()}function _s(e){return{encode:t=>{if(!Cs(t))throw new Error("radix.encode input should be Uint8Array");return nn(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(nn(t,e,2**8))}}}const Is=e=>As(_s(58),Ss(e),Ns("")),vt=Is("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),rn={WALLET_NAME:"unified:connected_wallet_name"};function Ts(e,t=void 0){try{const n=localStorage.getItem(e);return n?JSON.parse(n):void 0}catch(n){typeof window<"u"&&console.error(n)}return t}function Ls(e,t=void 0){try{t==null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t))}catch(n){typeof window<"u"&&console.error(n)}}function $n(e){return e==="mainnet-beta"?"mainnet":e}function Ds({env:e,disconnectOnAccountChange:t,additionalWallets:n=[]}){const r=be(Ee(n?.map(p=>({type:"custom",wallet:p}))));Ge(r,async({newValue:p})=>{hs({wallets:Object.values(p)});const A=s.get(),I=c.get();if(A||I)return;const x=Ts(rn.WALLET_NAME);x&&await V(x)});const o=pt(r,p=>Object.values(p)),i=be();Ge(i,({newValue:p})=>{fs({wallet:p})});const s=pt(i,p=>!!p),l=pt([i,r],(p,A)=>{if(!(!p||!p.info))return A[p.info.name]}),d=be(e??"mainnet-beta");Ge(d,({newValue:p})=>{console.log("new env value: ",{newValue:p})});const c=be(!1);Ge(c,({newValue:p})=>{wt({connecting:p})});const a=be(!1);function u(p,A){if(!ls(p))return;const I=p.accounts[0];if(!I){console.error("onConnect: THIS CHECK SHOULD NEVER OCCUR");return}const x={type:"standard",info:{name:A.name,icon:A.icon,account:I,pubKey:vt.encode(I.publicKey)}};i.set(x)}function h(p){cs(p)&&w()}function g(p){p=p||l.get(),p&&p.type==="standard"&&p.wallet.features["standard:events"].on("change",A=>y(p.wallet,A))}async function f(p){const A=r.get()?.[p];if(!A)throw new Error(`connectStandardWallet: wallet with name: ${p} does not exist!`);if(A.type!=="standard")throw new Error("`connectStandardWallet: cannot connect to non-standard wallet");if(!("standard:connect"in A.wallet.features))throw new Error("connectStandardWallet: standard wallet does NOT have standard:connect feature enabled!");const I=await A.wallet.features["standard:connect"].connect();if(I.accounts.length===0)throw new Error("connectStandardWallet: no accounts available!");const x=I.accounts[0];if(!x)throw new Error("connectStandardWallet: account failed to connect!");return{type:"standard",info:{name:p,icon:A.wallet.icon,account:x,pubKey:vt.encode(x.publicKey)}}}async function O(p){const A=r.get()[p];if(!A||A.type!=="custom"){console.error("connectCustomWallet: failed, missing/invalid walletInfo: ",{walletInfo:A});return}const I=A.wallet;return await I.connect(),{type:"custom",info:I}}async function E(p){if(p!==zn)throw new Error(`connectMwa: wallet with name: ${p} is not mobile wallet adapter!`);const A=r.get()[p];if(!A||A.type!=="mwa"){console.error("connectMwa: failed, missing/invalid walletInfo: ",{walletInfo:A});return}const I=await A.wallet.signIn();return{type:"mwa",info:{name:A.wallet.name,icon:A.wallet.icon,account:I.account,pubKey:vt.encode(I.account.publicKey)}}}async function w(p){if(Ls(rn.WALLET_NAME,p),!p){i.set(void 0);return}if(g(),c.get()||a.get())throw new Error("connect: failed to connect, already connecting/disconnecting");const A=o.get();if(A.some(x=>x.type==="ios-webview")){const x=A.find(J=>J.wallet.name===p);if(!x||x.type!=="ios-webview")throw new Error(`connect: failed to connect, requested wallet ${p} has not been hardcoded!`);const ae=x.wallet;if(!ae.deepUrl){window.open(ae.url,"_blank");return}const Z=ae.deepUrl(window.location);window.location.href=Z;return}const I=A.find(x=>x.wallet.name===p);if(!I||I.type==="ios-webview")throw new Error(`updateWallet: cannot connect to wallet '${p}', no wallet info found!`);try{c.set(!0),wt({connecting:!0});const x=I.type==="custom"?await O(p):I.type==="mwa"?await E(p):await f(p);if(!x)throw new Error("connect: failed to connect, missing response after connecting wallet");i.set(x)}catch(x){console.error("failed to connect, error occurred connecting: ",{error:x}),w()}finally{c.set(!1),wt({connecting:!1})}}async function C(){if(a.get())return;const p=l.get();if(!p||p.type==="ios-webview"){console.error("disconnect: resetting wallet since cannot disconnect from nonexistent adapter: ",p),w();return}try{if(a.set(!0),p.type=="custom"||p.type==="mwa")await p.wallet.disconnect();else{const A=p.wallet;"standard:disconnect"in A.features&&await A.features["standard:disconnect"].disconnect()}}finally{a.set(!1),w()}}async function y(p,A){console.log("standard event change captured: ",{name:p.name,accounts:A.accounts});const I=l.get()?.wallet.name;if(!I||I!==p.name)return;const x=A.accounts&&A.accounts[0];if(console.log("standard wallet change detected: ",{changes:A}),!x){h(A);return}u(A,{name:p.name,accounts:p.accounts,icon:p.icon,chains:p.chains,version:p.version,features:p.features});const ae=W().map(Z=>({type:"standard",wallet:Z}));r.set(Ee([...o.get(),...ae]))}function v(){return console.log("onMountClearAdapterEventListeners"),window.addEventListener("beforeunload",()=>g()),()=>{window.removeEventListener("beforeunload",()=>g())}}async function M(p){const A=p;console.log("detected connect event to wallet: ",A.detail.wallet),await V(A.detail.wallet)}async function b(p){console.log("detected disconnect event "),await C()}function _(){window.addEventListener(oe.CONNECT,M),window.addEventListener(oe.DISCONNECT,b)}function z(){window.removeEventListener(oe.CONNECT,M),window.removeEventListener(oe.DISCONNECT,b)}function W(){const{get:p}=qt();return p().filter(I=>ns(I))}function $(){return W().map(I=>({type:"standard",wallet:I}))}function K(){const p=$();p.forEach(Z=>{Z.type==="standard"&&Z.wallet.features["standard:events"].on("change",async J=>{console.log({changes:J}),await y(Z.wallet,J)})}),r.set(Ee([...o.get(),...p]));const A=()=>{console.log("addWallet: triggered by on('register') event");const Z=$(),J=o.get(),xt=J.map(he=>he.wallet.name),jt=Z.filter(he=>!xt.includes(he.wallet.name));jt.forEach(he=>{he.type==="standard"&&he.wallet.features["standard:events"].on("change",async Pt=>{console.log({changes:Pt}),await y(he.wallet,Pt)})}),r.set(Ee([...J,...jt]))},{on:I}=qt(),x=I("register",A),ae=I("unregister",A);return()=>{x(),ae()}}function ee(){const p=rs.map(A=>({type:"ios-webview",wallet:A}));r.set(Ee(p))}async function V(p){if(l.get()?.wallet.name===p){console.error("adapter already connected");return}const I=l.get();I&&(console.error("another wallet connected, disconnecting: ",{_wallet:I}),await C()),w(p)}async function te(){if(!ss())return;const p=o.get().find(A=>A.type==="standard");p&&await V(p.wallet.name)}function $e(){if(as()){ee();return}const p=v();_();const A=K();return te(),()=>{p(),A(),z()}}async function Fe(p){const A=i.get(),I=l.get();if(!A||!I)throw new Error("signMessage failed, missing adapter/public key!");if(I.type==="ios-webview")throw new Error("solana:signMessage NOT found since wallet is not standard wallet");if(A.type==="custom"){if(!("signMessage"in A.info))throw new Error("solana:signMessage NOT supported by custom wallet");return await A.info.signMessage(p)}const x=A.info?.account;if(!x)throw new Error("solana:signMessage NOT found in standard wallet features");if(I.type==="mwa")throw new Error("sign message NOT implemented on mwa YET");if(I.type!=="standard")throw new Error("solana:signMessage NOT found in custom wallet features");if(!(Ut in I.wallet.features))throw new Error("solana:signMessage NOT found in standard wallet features");const J=(await I.wallet.features[Ut].signMessage({account:x,message:p}))[0];if(!J)throw new Error("failed to sign message, missing sign message output");return J.signature}return{$wallets:o,$walletsMap:r,$connectedAccount:i,$isConnected:s,$wallet:l,$env:d,$connecting:c,$disconnecting:a,initOnMount:$e,signMessage:Fe}}function Ee(e){return e.reduce((t,n)=>{const r=n.wallet.name;return t[r]||(t[r]=n),t},{})}function xs(e){let t=`${e.domain} wants you to sign in with your Solana account:
`;t+=`${e.address}`,e.statement&&(t+=`

${e.statement}`);const n=[];if(e.uri&&n.push(`URI: ${e.uri}`),e.version&&n.push(`Version: ${e.version}`),e.chainId&&n.push(`Chain ID: ${e.chainId}`),e.nonce&&n.push(`Nonce: ${e.nonce}`),e.issuedAt&&n.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&n.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&n.push(`Not Before: ${e.notBefore}`),e.requestId&&n.push(`Request ID: ${e.requestId}`),e.resources){n.push("Resources:");for(const r of e.resources)n.push(`- ${r}`)}return n.length&&(t+=`

${n.join(`
`)}`),t}const ie={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class se extends Error{constructor(...t){const[n,r,o]=t;super(r),this.code=n,this.data=o,this.name="SolanaMobileWalletAdapterError"}}class Fn extends Error{constructor(...t){const[n,r,o,i]=t;super(o),this.code=r,this.data=i,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function k(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(a){try{c(r.next(a))}catch(u){s(u)}}function d(a){try{c(r.throw(a))}catch(u){s(u)}}function c(a){a.done?i(a.value):o(a.value).then(l,d)}c((r=r.apply(e,[])).next())})}function js(e,t){return k(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",e),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,n),o=new Uint8Array(n.byteLength+r.byteLength);return o.set(new Uint8Array(n),0),o.set(new Uint8Array(r),n.byteLength),o})}function Ps(e){return window.btoa(e)}function zs(e){return xs(e)}function Rs(e){return Ps(zs(e))}const ks="solana:signTransactions",on="solana:cloneAuthorization";function Us(e,t){return new Proxy({},{get(n,r){return n[r]==null&&(n[r]=function(o){return k(this,void 0,void 0,function*(){const{method:i,params:s}=Ws(r,o,e),l=yield t(i,s);return i==="authorize"&&s.sign_in_payload&&!l.sign_in_result&&(l.sign_in_result=yield Fs(s.sign_in_payload,l,t)),$s(r,l,e)})}),n[r]},defineProperty(){return!1},deleteProperty(){return!1}})}function Ws(e,t,n){let r=t,o=e.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(e){case"authorize":{let{chain:i}=r;if(n==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:s}=r;if(i)switch(n){case"legacy":{o="reauthorize",r={auth_token:i,identity:s};break}default:{o="authorize";break}}break}}return{method:o,params:r}}function $s(e,t,n){switch(e){case"getCapabilities":{const r=t;switch(n){case"legacy":{const o=[ks];return r.supports_clone_authorization===!0&&o.push(on),Object.assign(Object.assign({},r),{features:o})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(on)})}}}return t}function Fs(e,t,n){var r;return k(this,void 0,void 0,function*(){const o=(r=e.domain)!==null&&r!==void 0?r:window.location.host,i=t.accounts[0].address,s=Rs(Object.assign(Object.assign({},e),{domain:o,address:i})),l=yield n("sign_messages",{addresses:[i],payloads:[s]});return{address:i,signed_message:s,signature:l.signed_payloads[0].slice(s.length)}})}const we=4;function Bs(e){if(e>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(we);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}const _t=12,Bn=65;function Ys(e,t,n){return k(this,void 0,void 0,function*(){const r=Bs(t),o=new Uint8Array(_t);crypto.getRandomValues(o);const i=yield crypto.subtle.encrypt(Kn(r,o),n,new TextEncoder().encode(e)),s=new Uint8Array(r.byteLength+o.byteLength+i.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(o),r.byteLength),s.set(new Uint8Array(i),r.byteLength+o.byteLength),s})}function Yn(e,t){return k(this,void 0,void 0,function*(){const n=e.slice(0,we),r=e.slice(we,we+_t),o=e.slice(we+_t),i=yield crypto.subtle.decrypt(Kn(n,r),t,o);return Ks().decode(i)})}function Kn(e,t){return{additionalData:e,iv:t,name:"AES-GCM",tagLength:128}}let yt;function Ks(){return yt===void 0&&(yt=new TextDecoder("utf-8")),yt}function Qs(){return k(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Hs(){return k(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function Gs(e,t){return k(this,void 0,void 0,function*(){const n=JSON.stringify(e),r=e.id;return Ys(n,r,t)})}function Vs(e,t){return k(this,void 0,void 0,function*(){const n=yield Yn(e,t),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new Fn(r.id,r.error.code,r.error.message);return r})}function Zs(e,t,n){return k(this,void 0,void 0,function*(){const[r,o]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",e.slice(0,Bn),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:o},n,256),s=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function Js(e,t){return k(this,void 0,void 0,function*(){const n=yield Yn(e,t),r=JSON.parse(n);let o="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":o="v1";break;case"legacy":o="legacy";break;default:throw new se(ie.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:o}})}function Xs(){return Qn(49152+Math.floor(Math.random()*16384))}function Qn(e){if(e<49152||e>65535)throw new se(ie.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${e} given.`,{port:e});return e}function qs(e){let t="";const n=new Uint8Array(e),r=n.byteLength;for(let o=0;o<r;o++)t+=String.fromCharCode(n[o]);return window.btoa(t)}function ea(e){return e.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])}const ta="solana-wallet";function sn(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function na(e,t){let n=null;if(t){try{n=new URL(t)}catch{}if(n?.protocol!=="https:")throw new se(ie.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${ta}:/`));const r=e.startsWith("/")?e:[...sn(n.pathname),...sn(e)].join("/");return new URL(r,n)}function ra(e,t,n,r=["v1"]){return k(this,void 0,void 0,function*(){const o=Qn(t),i=yield crypto.subtle.exportKey("raw",e),s=qs(i),l=na("v1/associate/local",n);return l.searchParams.set("association",ea(s)),l.searchParams.set("port",`${o}`),r.forEach(d=>{l.searchParams.set("v",d)}),l})}const it={Firefox:0,Other:1};function oa(){return navigator.userAgent.indexOf("Firefox/")!==-1?it.Firefox:it.Other}function ia(){return new Promise((e,t)=>{function n(){clearTimeout(o),window.removeEventListener("blur",r)}function r(){n(),e()}window.addEventListener("blur",r);const o=setTimeout(()=>{n(),t()},2e3)})}let De=null;function sa(e){De==null&&(De=document.createElement("iframe"),De.style.display="none",document.body.appendChild(De)),De.contentWindow.location.href=e.toString()}function aa(e,t){return k(this,void 0,void 0,function*(){const n=Xs(),r=yield ra(e,n,t);if(r.protocol==="https:")window.location.assign(r);else try{const o=oa();switch(o){case it.Firefox:sa(r);break;case it.Other:{const i=ia();window.location.assign(r),yield i;break}default:}}catch{throw new se(ie.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}return n})}const an={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},la="com.solana.mobilewalletadapter.v1";function ca(){if(typeof window>"u"||window.isSecureContext!==!0)throw new se(ie.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function ua(e){let t;try{t=new URL(e)}catch{throw new se(ie.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(t.protocol!=="https:")throw new se(ie.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function ln(e){return new DataView(e).getUint32(0,!1)}function da(e,t){return k(this,void 0,void 0,function*(){ca();const n=yield Qs(),r=yield aa(n.publicKey,t?.baseUri),o=`ws://localhost:${r}/solana-wallet`;let i;const s=(()=>{const a=[...an.retryDelayScheduleMs];return()=>a.length>1?a.shift():a[0]})();let l=1,d=0,c={__type:"disconnected"};return new Promise((a,u)=>{let h;const g={},f=()=>k(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}const{associationKeypair:M}=c;h.removeEventListener("open",f);const b=yield Hs();h.send(yield js(b.publicKey,M.privateKey)),c={__type:"hello_req_sent",associationPublicKey:M.publicKey,ecdhPrivateKey:b.privateKey}}),O=M=>{M.wasClean?c={__type:"disconnected"}:u(new se(ie.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${M.code}: ${M.reason}).`,{closeEvent:M})),C()},E=M=>k(this,void 0,void 0,function*(){C(),Date.now()-i>=an.timeoutMs?u(new se(ie.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket on port ${r}.`)):(yield new Promise(b=>{const _=s();y=window.setTimeout(b,_)}),v())}),w=M=>k(this,void 0,void 0,function*(){const b=yield M.data.arrayBuffer();switch(c.__type){case"connected":try{const _=b.slice(0,we),z=ln(_);if(z!==d+1)throw new Error("Encrypted message has invalid sequence number");d=z;const W=yield Vs(b,c.sharedSecret),$=g[W.id];delete g[W.id],$.resolve(W.result)}catch(_){if(_ instanceof Fn){const z=g[_.jsonRpcMessageId];delete g[_.jsonRpcMessageId],z.reject(_)}else throw _}break;case"hello_req_sent":{const _=yield Zs(b,c.associationPublicKey,c.ecdhPrivateKey),z=b.slice(Bn),W=z.byteLength!==0?yield k(this,void 0,void 0,function*(){const K=z.slice(0,we),ee=ln(K);if(ee!==d+1)throw new Error("Encrypted message has invalid sequence number");return d=ee,Js(z,_)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:_,sessionProperties:W};const $=Us(W.protocol_version,(K,ee)=>k(this,void 0,void 0,function*(){const V=l++;return h.send(yield Gs({id:V,jsonrpc:"2.0",method:K,params:ee??{}},_)),new Promise((te,$e)=>{g[V]={resolve(Fe){switch(K){case"authorize":case"reauthorize":{const{wallet_uri_base:p}=Fe;if(p!=null)try{ua(p)}catch(A){$e(A);return}break}}te(Fe)},reject:$e}})}));try{a(yield e($))}catch(K){u(K)}finally{C(),h.close()}break}}});let C,y;const v=()=>{C&&C(),c={__type:"connecting",associationKeypair:n},i===void 0&&(i=Date.now()),h=new WebSocket(o,[la]),h.addEventListener("open",f),h.addEventListener("close",O),h.addEventListener("error",E),h.addEventListener("message",w),C=()=>{window.clearTimeout(y),h.removeEventListener("open",f),h.removeEventListener("close",O),h.removeEventListener("error",E),h.removeEventListener("message",w)}};v()})})}function fa(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var o=e.charAt(r),i=o.charCodeAt(0);if(t[i]!==255)throw new TypeError(o+" is ambiguous");t[i]=r}var s=e.length,l=e.charAt(0),d=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function a(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var f=0,O=0,E=0,w=g.length;E!==w&&g[E]===0;)E++,f++;for(var C=(w-E)*c+1>>>0,y=new Uint8Array(C);E!==w;){for(var v=g[E],M=0,b=C-1;(v!==0||M<O)&&b!==-1;b--,M++)v+=256*y[b]>>>0,y[b]=v%s>>>0,v=v/s>>>0;if(v!==0)throw new Error("Non-zero carry");O=M,E++}for(var _=C-O;_!==C&&y[_]===0;)_++;for(var z=l.repeat(f);_<C;++_)z+=e.charAt(y[_]);return z}function u(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;for(var f=0,O=0,E=0;g[f]===l;)O++,f++;for(var w=(g.length-f)*d+1>>>0,C=new Uint8Array(w);g[f];){var y=t[g.charCodeAt(f)];if(y===255)return;for(var v=0,M=w-1;(y!==0||v<E)&&M!==-1;M--,v++)y+=s*C[M]>>>0,C[M]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");E=v,f++}for(var b=w-E;b!==w&&C[b]===0;)b++;for(var _=new Uint8Array(O+(w-b)),z=O;b!==w;)_[z++]=C[b++];return _}function h(g){var f=u(g);if(f)return f;throw new Error("Non-base"+s+" character")}return{encode:a,decodeUnsafe:u,decode:h}}var ha=fa;const ga=ha,wa="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var pa=ga(wa);const va=qn(pa);function mt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Ve(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(a){try{c(r.next(a))}catch(u){s(u)}}function d(a){try{c(r.throw(a))}catch(u){s(u)}}function c(a){a.done?i(a.value):o(a.value).then(l,d)}c((r=r.apply(e,[])).next())})}function Hn(e){return window.btoa(String.fromCharCode.call(null,...e))}function bt(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}function cn(e){const t="version"in e?e.serialize():e.serialize({requireAllSignatures:!1,verifySignatures:!1});return Hn(t)}function ya(e){const n=e[0]*rr+1;return er.deserializeMessageVersion(e.slice(n,e.length))==="legacy"?tr.from(e):nr.deserialize(e)}function ma(e,t){return Ve(this,void 0,void 0,function*(){return yield da(r=>{const o=new Proxy({},{get(i,s){if(i[s]==null)switch(s){case"signAndSendTransactions":i[s]=function(l){var{minContextSlot:d,commitment:c,skipPreflight:a,maxRetries:u,waitForCommitmentToSendNextTransaction:h,transactions:g}=l,f=mt(l,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return Ve(this,void 0,void 0,function*(){const O=g.map(cn),E={min_context_slot:d,commitment:c,skip_preflight:a,max_retries:u,wait_for_commitment_to_send_next_transaction:h},{signatures:w}=yield r.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},f),Object.values(E).some(y=>y!=null)?{options:E}:null),{payloads:O}));return w.map(bt).map(va.encode)})};break;case"signMessages":i[s]=function(l){var{payloads:d}=l,c=mt(l,["payloads"]);return Ve(this,void 0,void 0,function*(){const a=d.map(Hn),{signed_payloads:u}=yield r.signMessages(Object.assign(Object.assign({},c),{payloads:a}));return u.map(bt)})};break;case"signTransactions":i[s]=function(l){var{transactions:d}=l,c=mt(l,["transactions"]);return Ve(this,void 0,void 0,function*(){const a=d.map(cn),{signed_payloads:u}=yield r.signTransactions(Object.assign(Object.assign({},c),{payloads:a}));return u.map(bt).map(ya)})};break;default:{i[s]=r[s];break}}return i[s]},defineProperty(){return!1},deleteProperty(){return!1}});return e(o)},t)})}function L(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(a){try{c(r.next(a))}catch(u){s(u)}}function d(a){try{c(r.throw(a))}catch(u){s(u)}}function c(a){a.done?i(a.value):o(a.value).then(l,d)}c((r=r.apply(e,[])).next())})}function et(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}function ba(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const Ea="Mobile Wallet Adapter",Ma=64;function Oa(e){const t=et(e);return new ar(t)}function un(e){return"version"in e}class Ca extends or{constructor(t){var n;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=Ea,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=ba()?Q.Loadable:Q.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=(n=t.chain)!==null&&n!==void 0?n:t.cluster,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==Q.Unsupported&&this._authorizationResultCache.get().then(r=>{r&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=Oa(this._selectedAddress)}catch(t){throw new ir(t instanceof Error&&t?.message||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==Q.Installed&&this.emit("readyStateChange",this._readyState=Q.Installed)}runWithGuard(t){return L(this,void 0,void 0,function*(){try{return yield t()}catch(n){throw this.emit("error",n),n}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return L(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return L(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>L(this,void 0,void 0,function*(){if(this._readyState!==Q.Installed&&this._readyState!==Q.Loadable)throw new lt;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new Be(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}connect(){return L(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>L(this,void 0,void 0,function*(){if(this._readyState!==Q.Installed&&this._readyState!==Q.Loadable)throw new lt;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new Be(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}performAuthorization(t){return L(this,void 0,void 0,function*(){try{const n=yield this._authorizationResultCache.get();return n?(this.handleAuthorizationResult(n),n):yield this.transact(r=>L(this,void 0,void 0,function*(){const o=yield r.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(o),this.handleAuthorizationResult(o)]),o}))}catch(n){throw new Be(n instanceof Error&&n.message||"Unknown error",n)}})}handleAuthorizationResult(t){var n;return L(this,void 0,void 0,function*(){const r=this._authorizationResult==null||((n=this._authorizationResult)===null||n===void 0?void 0:n.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some((o,i)=>o.address!==t.accounts[i].address);if(this._authorizationResult=t,this.declareWalletAsInstalled(),r){const o=yield this._addressSelector.select(t.accounts.map(({address:i})=>i));o!==this._selectedAddress&&(this._selectedAddress=o,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(t,n){return L(this,void 0,void 0,function*(){try{const r=yield t.authorize({auth_token:n,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)])}catch(r){throw this.disconnect(),new lr(r instanceof Error&&r?.message||"Unknown error",r)}})}disconnect(){return L(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(t){var n;return L(this,void 0,void 0,function*(){const r=(n=this._authorizationResult)===null||n===void 0?void 0:n.wallet_uri_base,o=r?{baseUri:r}:void 0,i=this._connectionGeneration;try{return yield ma(t,o)}catch(s){throw this._connectionGeneration!==i&&(yield new Promise(()=>{})),s instanceof Error&&s.name==="SolanaMobileWalletAdapterError"&&s.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),s}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new sr;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return L(this,void 0,void 0,function*(){const{authToken:n}=this.assertIsAuthorized();try{return yield this.transact(r=>L(this,void 0,void 0,function*(){return yield this.performReauthorization(r,n),yield r.signTransactions({transactions:t})}))}catch(r){throw new cr(r?.message,r)}})}sendTransaction(t,n,r){return L(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>L(this,void 0,void 0,function*(){const{authToken:o}=this.assertIsAuthorized(),i=r?.minContextSlot;try{return yield this.transact(s=>L(this,void 0,void 0,function*(){function l(){let u;switch(n.commitment){case"confirmed":case"finalized":case"processed":u=n.commitment;break;default:u="finalized"}let h;switch(r?.preflightCommitment){case"confirmed":case"finalized":case"processed":h=r.preflightCommitment;break;case void 0:h=u;break;default:h="finalized"}return(h==="finalized"?2:h==="confirmed"?1:0)<(u==="finalized"?2:u==="confirmed"?1:0)?h:u}const[d,c,a]=yield Promise.all([s.getCapabilities(),this.performReauthorization(s,o),un(t)?null:L(this,void 0,void 0,function*(){var u;if(t.feePayer||(t.feePayer=(u=this.publicKey)!==null&&u!==void 0?u:void 0),t.recentBlockhash==null){const{blockhash:h}=yield n.getLatestBlockhash({commitment:l()});t.recentBlockhash=h}})]);if(d.supports_sign_and_send_transactions)return(yield s.signAndSendTransactions({minContextSlot:i,transactions:[t]}))[0];{const[u]=yield s.signTransactions({transactions:[t]});if(un(u))return yield n.sendTransaction(u);{const h=u.serialize();return yield n.sendRawTransaction(h,Object.assign(Object.assign({},r),{preflightCommitment:l()}))}}}))}catch(s){throw new ur(s?.message,s)}}))})}signTransaction(t){return L(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>L(this,void 0,void 0,function*(){const[n]=yield this.performSignTransactions([t]);return n}))})}signAllTransactions(t){return L(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>L(this,void 0,void 0,function*(){return yield this.performSignTransactions(t)}))})}signMessage(t){return L(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>L(this,void 0,void 0,function*(){const{authToken:n,selectedAddress:r}=this.assertIsAuthorized();try{return yield this.transact(o=>L(this,void 0,void 0,function*(){yield this.performReauthorization(o,n);const[i]=yield o.signMessages({addresses:[r],payloads:[t]});return i.slice(-Ma)}))}catch(o){throw new dr(o?.message,o)}}))})}signIn(t){return L(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>L(this,void 0,void 0,function*(){var n,r;if(this._readyState!==Q.Installed&&this._readyState!==Q.Loadable)throw new lt;this._connecting=!0;try{const o=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:(n=t?.domain)!==null&&n!==void 0?n:window.location.host}));if(!o.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=o.sign_in_result.address;return{account:Object.assign(Object.assign({},(r=o.accounts.find(l=>l.address==i))!==null&&r!==void 0?r:{address:i}),{publicKey:et(i)}),signedMessage:et(o.sign_in_result.signed_message),signature:et(o.sign_in_result.signature)}}catch(o){throw new Be(o instanceof Error&&o.message||"Unknown error",o)}finally{this._connecting=!1}}))})}}function Aa(){return{select(e){return L(this,void 0,void 0,function*(){return e[0]})}}}const Et="SolanaMobileWalletAdapterDefaultAuthorizationCache";function Sa(){let e;try{e=window.localStorage}catch{}return{clear(){return L(this,void 0,void 0,function*(){if(e)try{e.removeItem(Et)}catch{}})},get(){return L(this,void 0,void 0,function*(){if(e)try{return JSON.parse(e.getItem(Et))||void 0}catch{}})},set(t){return L(this,void 0,void 0,function*(){if(e)try{e.setItem(Et,JSON.stringify(t))}catch{}})}}}function Na(e){return L(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(e.url)})}function _a(){return Na}function Ia(e,t){if(e.some(({name:o})=>o===zn))return;const n=window.navigator?.userAgent;if(!n)return;const r=()=>{const{location:o}=globalThis;if(o)return`${o.protocol}//${o.host}`};if(os(n)&&!is(n)){const o=$n(t);return new Ca({addressSelector:Aa(),appIdentity:{uri:r()},authorizationResultCache:Sa(),chain:`solana:${o}`,onWalletNotFound:_a()})}}function Ta({env:e,disconnectOnAccountChange:t,autoConnect:n,additionalWallets:r=[]}){const{$connectedAccount:o,$wallet:i,$wallets:s,$walletsMap:l,$env:d,$connecting:c,signMessage:a,initOnMount:u,$isConnected:h,$disconnecting:g}=Ds({env:e,disconnectOnAccountChange:t,additionalWallets:r,autoConnect:n});async function f(C){const y=o.get(),v=i.get();if(!y||!v)throw new Error("signTransaction failed, missing adapter/public key!");if(y.type==="custom")return await y.info.signTransaction(C);if(v.type!=="standard"||y.type!=="standard")throw new Error("solana:signTransaction NOT found since wallet is not standard wallet");const M=v.wallet;if(!(xe in M.features))throw new Error("solana:signTransaction NOT found in standard wallet features");const b=y.info?.account;if(!b)throw new Error("solana:signTransaction account NOT found in connected standard wallet");const _=M.features[xe],z=C.serialize({verifySignatures:!1}),W={account:b,transaction:z},$=await _.signTransaction(W);if($.length===0||!$[0])throw new Error("failed to sign tx, missing sign tx output");return $[0].signedTransaction}async function O(C){const y=o.get(),v=i.get();if(!y||!v)throw new Error("signAllTransactions failed, missing adapter/public key!");if(y.type==="custom")return await y.info.signAllTransactions(C);if(v.type!=="standard"||y.type!=="standard")throw new Error("solana:signTransaction NOT found since wallet is not standard wallet");const M=v.wallet;if(!(xe in M.features))throw new Error("solana:signTransaction NOT found in standard wallet features");const b=y.info?.account;if(!b)throw new Error("solana:signTransaction account NOT found in connected standard wallet");const _=M.features[xe],z=C.map($=>({account:b,transaction:$.serialize({verifySignatures:!1})})),W=await _.signTransaction(...z);if(W.length===0||!W[0])throw new Error("solana:signTransaction failed, missing sign all txs output");return W[0].signedTransaction}async function E(C,y,v){const M=o.get(),b=i.get();if(!M||!b)throw new Error("sendTransaction failed: missing adapter / public key!");if(M.type==="custom")try{return await M.info.sendTransaction(C,y,{signers:[],...v})}catch(te){console.log(`sendTransaction: custom wallet error: ${JSON.stringify(te)}`)}if(b.type==="mwa"&&M.type==="mwa")try{return await b.wallet.sendTransaction(C,y,v)}catch(te){console.log(`sendTransaction: custom wallet error: ${JSON.stringify(te)}`)}if(b.type!=="standard"||M.type!=="standard")throw new Error("solana:signAndSendTransaction NOT found since wallet is not standard wallet");const _=b.wallet;if(!(Ot in _.features))throw new Error("solana:signAndSendTransaction NOT found in standard wallet features");const z=M.info?.account;if(!z)throw new Error("solana:signAndSendTransaction account NOT found in connected standard wallet");const W=C.serialize({verifySignatures:!1}),$=$n(d.get()),K={account:z,transaction:W,chain:`solana:${$}`},V=await _.features[Ot].signAndSendTransaction(K);if(V.length===0||!V[0])throw new Error("Missing tx output from signAndSendTx from connected standard wallet!");return V[0].signature}function w(){const C=u(),v=s.get().filter(b=>b.type==="standard").map(b=>b.wallet),M=Ia(v,d.get());if(M){const b={type:"mwa",wallet:M};l.set(Ee([...s.get(),b]))}return C}return{$wallets:s,$walletsMap:l,$connectedAccount:o,$isConnected:h,$wallet:i,$env:d,$connecting:c,$disconnecting:g,initOnMount:w,signMessage:a,signTransaction:f,signAllTransactions:O,sendTransaction:E}}function La(e,t){const n=Ie(t);return[r=>m(n.Provider,{value:e(r),get children(){return r.children}}),()=>ve(n)]}const[Ua,Da]=La(e=>{const{$wallet:t,$connectedAccount:n,$connecting:r,$disconnecting:o,$isConnected:i,initOnMount:s,$env:l,$wallets:d,$walletsMap:c,signMessage:a,sendTransaction:u,signTransaction:h,signAllTransactions:g}=Ta({env:e.env,autoConnect:e.autoConnect,disconnectOnAccountChange:e.disconnectOnAccountChange,localStorageKey:e.localStorageKey,additionalWallets:e.additionalWallets}),f=le(d),O=le(c),E=le(n),w=le(i),C=le(t),y=le(l),v=le(r),M=le(o);return It(()=>{const b=s();b&&U(()=>{b()})}),P(()=>{console.log("env value: ",{env:y()})}),{env:y,connected:w,connecting:v,disconnecting:M,localStorageKey:e.localStorageKey,connectedAccount:E,wallet:C,wallets:f,walletsByName:O,connect:us,disconnect:ds,signMessage:a,sendTransaction:u,signTransaction:h,signAllTransactions:g}}),Wa=()=>{const e=Da();if(!e)throw new Error("useWallet must be used within a WalletProvider");return e};export{zi as U,Ua as W,pa as b,qi as c,Ra as l,ka as p,Wa as u};
